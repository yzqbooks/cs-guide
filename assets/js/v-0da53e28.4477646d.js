"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[7383],{33610:(e,s,o)=>{o.r(s),o.d(s,{data:()=>n});const n=JSON.parse('{"key":"v-0da53e28","path":"/windows-tutor/powershell/beautify-powershell.html","title":"powershell美化","lang":"zh-CN","frontmatter":{"summary":"powershell美化 改造PowerShell 默认的PowerShell并不美观，仅仅是将原来“傻大黑”变成了“傻大蓝”。（由于我的PowerShell已经改造过了所以我这里就没有办法截图了）我们的做法是在PowerShell里面加一个PowerLine，然后剩下的，在Terminal中配置。 安装oh-my-posh 地址https://ohmypo","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/windows-tutor/powershell/beautify-powershell.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"powershell美化"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-07-10T12:31:56.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-07-10T12:31:56.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"改造PowerShell","slug":"改造powershell","children":[{"level":3,"title":"安装oh-my-posh","slug":"安装oh-my-posh","children":[]}]}],"git":{"createdTime":1649171852000,"updatedTime":1657456316000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":4}]},"readingTime":{"minutes":1.86,"words":558},"filePathRelative":"windows-tutor/powershell/beautify-powershell.md","localizedDate":"2022年4月5日"}')},53013:(e,s,o)=>{o.r(s),o.d(s,{default:()=>S});var n=o(66252);const l=(0,n.uE)('<h1 id="powershell美化" tabindex="-1"><a class="header-anchor" href="#powershell美化" aria-hidden="true">#</a> powershell美化</h1><h2 id="改造powershell" tabindex="-1"><a class="header-anchor" href="#改造powershell" aria-hidden="true">#</a> <strong>改造PowerShell</strong></h2><p>默认的PowerShell并不美观，仅仅是将原来“傻大黑”变成了“傻大蓝”。（由于我的PowerShell已经改造过了所以我这里就没有办法截图了）我们的做法是在PowerShell里面加一个PowerLine，然后剩下的，在Terminal中配置。</p><h3 id="安装oh-my-posh" tabindex="-1"><a class="header-anchor" href="#安装oh-my-posh" aria-hidden="true">#</a> 安装oh-my-posh</h3>',4),a=(0,n.Uk)("地址"),r={href:"https://ohmyposh.dev/",target:"_blank",rel:"noopener noreferrer"},t=(0,n.Uk)("https://ohmyposh.dev/"),p=(0,n.Uk)(" 推荐在windows商店下载oh-my-sh或者在"),i={href:"https://github.com/JanDeDobbeleer/oh-my-posh/releases",target:"_blank",rel:"noopener noreferrer"},d=(0,n.Uk)("https://github.com/JanDeDobbeleer/oh-my-posh/releases"),c=(0,n.Uk)("下载"),h=(0,n._)("code",null,"install-amd64.exe",-1),u=(0,n.Uk)("自行安装"),m=(0,n.uE)('<p>然后在<code>$profile</code>添加</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>oh-my-posh init pwsh --config <span class="token string">&quot;<span class="token variable">$env</span>:POSH_THEMES_PATH<span class="token entity" title="\\n">\\n</span>egligible.omp.json&quot;</span><span class="token operator">|</span>Invoke-Expression\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装PowerLine的方法很简单，我们要先安装oh-my-posh，首先打开一个PowerShell，输入</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">Install-Module</span> posh-git <span class="token operator">-</span>Scope CurrentUser\nhttps:<span class="token operator">/</span><span class="token operator">/</span>ohmyposh<span class="token punctuation">.</span>dev/\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你使用管理员权限打开PowerShell并且想把oh-my-posh安装到所有用户，则输入</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">Install-Module</span> posh-git\n<span class="token namespace">[Install-Module oh-my-posh]</span><span class="token punctuation">(</span>https:<span class="token operator">/</span><span class="token operator">/</span>ohmyposh<span class="token punctuation">.</span>dev/<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这里如果让你允许什么不可信的来源，输入<code>Y</code>表示同意即可。</p><p>安装完成后，输入</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">Import-Module</span> posh-git\n<span class="token namespace">[Import-Module oh-my-posh]</span><span class="token punctuation">(</span>https:<span class="token operator">/</span><span class="token operator">/</span>ohmyposh<span class="token punctuation">.</span>dev/<span class="token punctuation">)</span>\n<span class="token function">Set-Theme</span> PowerLine\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',9),g=(0,n._)("strong",null,"如果你的电脑里没有安装Git，在输入",-1),w=(0,n._)("code",null,"**Import-Module posh-git**",-1),v=(0,n._)("strong",null,"会报错，解决方法是",-1),b={href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"},k=(0,n._)("strong",null,"安装Git",-1),y=(0,n._)("strong",null,"或者把这一行去掉。",-1),f=(0,n.uE)('<p>但是这次使用<code>Import-Module</code>的指令，再次启动PowerShell就会发现没有效果，这是因为这些指令仅限于本次会话的PowerShell有效，因此，若要使这一效果在每次启动的时候都有效，那就要将其添加到启动脚本中。</p><p>在PowerShell中输入<code>code $profile</code> ，然后输入以下内容，保存。如果你没有安装VS Code，则使用<code>notepad $profile</code>。</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">Import-Module</span> posh-git\n \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果提示禁止执行脚本之类的错误信息，请将脚本执行策略更改为<code>RemoteSigned</code>。具体方法为使用具有管理员权限的PowerShell，然后输入</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">Set-ExecutionPolicy</span> RemoteSigned\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样，在每次PoweShell打开的时候都能启用PowerLine主题。</p><p>可是这样，PowerShell打开的时候仍有乱码（或者说，有违和感），这是因为没有给你使用的字体链接表情，乱码的地方其实就是表情符号。</p><p>我喜欢的oh-my-posh主题 <code>negligible</code> <code>pure</code> <code>ys</code><code>paradox</code> <code>powerlevel10k_classic</code>, <code>powerlevel10k_lean</code></p>',8),P={},S=(0,o(83744).Z)(P,[["render",function(e,s){const o=(0,n.up)("ExternalLinkIcon");return(0,n.wg)(),(0,n.iD)("div",null,[l,(0,n._)("p",null,[a,(0,n._)("a",r,[t,(0,n.Wm)(o)]),p,(0,n._)("a",i,[d,(0,n.Wm)(o)]),c,h,u]),m,(0,n._)("p",null,[g,w,v,(0,n._)("a",b,[k,(0,n.Wm)(o)]),y]),f])}]])}}]);