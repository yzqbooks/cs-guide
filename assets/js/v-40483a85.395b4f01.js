"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[90137],{88980:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a=JSON.parse('{"key":"v-40483a85","path":"/frontend/vue-tutor/vue-router.html","title":"vue-router教程","lang":"zh-CN","frontmatter":{"order":2,"summary":"vue-router教程 一、安装 如果你用vue-cli脚手架来搭建项目，配置过程会选择是否用到路由（详细见vue-cli 脚手架），如果选择y，后面下载依赖会自动下载vue-router。 这里还是说一下安装：npm install vue-router 二、创建组件 如果在一个模块化工程中使用它，必须要通过 Vue.use() 明确地安装路由功能，用v","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/frontend/vue-tutor/vue-router.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"vue-router教程"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://yzqdev.github.io/cs-guide/cs-guide/"}],["meta",{"property":"og:updated_time","content":"2022-07-25T14:57:57.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"vue-router教程"}],["meta",{"property":"article:modified_time","content":"2022-07-25T14:57:57.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"一、安装","slug":"一、安装","children":[]},{"level":2,"title":"二、创建组件","slug":"二、创建组件","children":[]},{"level":2,"title":"三、router-link制作导航","slug":"三、router-link制作导航","children":[]},{"level":2,"title":"四、动态路由匹配","slug":"四、动态路由匹配","children":[]},{"level":2,"title":"五、vue-router参数传递","slug":"五、vue-router参数传递","children":[]},{"level":2,"title":"六.响应路由参数的变化","slug":"六-响应路由参数的变化","children":[]},{"level":2,"title":"七、实现不同路由不同页面标题","slug":"七、实现不同路由不同页面标题","children":[]},{"level":2,"title":"八、重定向","slug":"八、重定向","children":[]},{"level":2,"title":"九、编程式导航","slug":"九、编程式导航","children":[]},{"level":2,"title":"十、路由中的钩子","slug":"十、路由中的钩子","children":[]},{"level":2,"title":"十一、History 模式","slug":"十一、history-模式","children":[]},{"level":2,"title":"十二、路由组件传参","slug":"十二、路由组件传参","children":[]}],"git":{"createdTime":1648799438000,"updatedTime":1658761077000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":3}]},"readingTime":{"minutes":13.92,"words":4177},"filePathRelative":"frontend/vue-tutor/vue-router.md","localizedDate":"2022年4月1日"}')},30467:(n,s,e)=>{e.r(s),e.d(s,{default:()=>N});var a=e(66252);const t=e.p+"assets/img/1624847415596-3352a92f-4311-4d2e-bcd4-e48721bfebe3.642a4ac7.png",i=e.p+"assets/img/1624847415714-529369b2-6c50-47af-93cb-3368824f70b4.2eff2731.png",l=e.p+"assets/img/1624847415629-4a7a5f1e-7644-4370-9ed7-e1f83ce4873f.9e69679e.png",r=e.p+"assets/img/1624847415620-7b86a738-135c-4192-b83f-b05866383816.8ac479dd.png",o=(0,a._)("h1",{id:"vue-router教程",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#vue-router教程","aria-hidden":"true"},"#"),(0,a.Uk)(" vue-router教程")],-1),p=(0,a._)("h2",{id:"一、安装",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#一、安装","aria-hidden":"true"},"#"),(0,a.Uk)(" 一、安装")],-1),c=(0,a.Uk)("如果你用vue-cli脚手架来搭建项目，配置过程会选择是否用到路由（详细见"),d={href:"https://mp.csdn.net/postedit/80488674",target:"_blank",rel:"noopener noreferrer"},u=(0,a.Uk)("vue-cli 脚手架"),v=(0,a.Uk)("），如果选择y，后面下载依赖会自动下载vue-router。 这里还是说一下安装："),m=(0,a._)("code",null,"npm install vue-router",-1),g=(0,a.uE)('<h2 id="二、创建组件" tabindex="-1"><a class="header-anchor" href="#二、创建组件" aria-hidden="true">#</a> 二、创建组件</h2><p>如果在一个模块化工程中使用它，必须要通过 Vue.use() 明确地安装路由功能，用vue-cli生产了我们的项目结构，<strong>src文件目录下会有一个router文件夹</strong>，此处就是编写路由组件的地方。在src/router/index.js，这个文件就是路由的核心文件：</p><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>import Vue from &#39;vue&#39;   //引入Vue\nimport Router from &#39;vue-router&#39;  //引入vue-router\nimport Hello from &#39;@/components/Hello&#39;  //引入根目录下的Hello.vue组件\n \nVue.use(Router)  //Vue全局使用Router\n \nexport default new Router({\n  routes: [              //配置路由，这里是个数组\n    {                    //每一个链接都是一个对象\n      path: &#39;/&#39;,         //链接路径\n      name: &#39;Hello&#39;,     //路由名称，\n      component: Hello   //对应的组件模板\n    }，{\n      path:&#39;/hi&#39;,\n      component:Hi,\n      children:[        //子路由,嵌套路由 （此处偷个懒，免得单独再列一点）\n        {path:&#39;/&#39;,component:Hi},\n        {path:&#39;hi1&#39;,component:Hi1},\n        {path:&#39;hi2&#39;,component:Hi2},\n      ]\n    }\n  ]\n})\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、router-link制作导航" tabindex="-1"><a class="header-anchor" href="#三、router-link制作导航" aria-hidden="true">#</a> 三、router-link制作导航</h2><p><strong>1.router-link</strong> 是一个组件，它默认会被渲染成一个带有链接的a标签，通过to属性指定链接地址。 注意：被选中的router-link将自动添加一个class属性值.router-link-active。</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>[text]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>',6),b=(0,a._)("li",null,'to：导航路径，要填写的是你在router/index.js文件里配置的path值，如果要导航到默认首页，只需要写成 to="/" ，',-1),k=(0,a.Uk)("[text] ：就是我们要显示给用户的导航名称。 "),A=(0,a._)("strong",null,"2.router-view",-1),h=(0,a.Uk)(" 用于渲染匹配到的组件。 ①.可以给router-view组件设置"),y=(0,a._)("strong",null,"transition过渡",-1),U=(0,a.Uk)("（"),f={href:"https://link.jianshu.com/?t=http%3A%2F%2Fhyuhan.com%2F2016%2F12%2F08%2Fvue-transition%2F",target:"_blank",rel:"noopener noreferrer"},w=(0,a.Uk)("Vue2.0 Transition常见用法全解惑"),C=(0,a.Uk)("）。"),K=(0,a.uE)('<div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>&lt;transition name=&quot;fade&quot;&gt;\n  &lt;router-view &gt;&lt;/router-view&gt;\n&lt;/transition&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>css过渡类名：</strong> 组件过渡过程中，会有四个CSS类名进行切换，这四个类名与transition的name属性有关，比如name=&quot;fade&quot;,会有如下四个CSS类名：</p><ul><li>fade-enter:进入过渡的开始状态，元素被插入时生效，只应用一帧后立刻删除。</li><li>fade-enter-active:进入过渡的结束状态，元素被插入时就生效，在过渡过程完成后移除。</li><li>fade-leave:离开过渡的开始状态，元素被删除时触发，只应用一帧后立刻删除。</li><li>fade-leave-active:离开过渡的结束状态，元素被删除时生效，离开过渡完成后被删除。 从上面四个类名可以看出，<strong>fade-enter-active</strong>和<strong>fade-leave-active</strong>在整个进入或离开过程中都有效，所以CSS的transition属性在这两个类下进行设置。 <strong>过渡模式mode：</strong></li><li>in-out(mode默认in-out模式）：新元素先进入过渡，完成之后当前元素过渡离开。</li><li>out-in：当前元素先进行过渡离开，离开完成后新元素过渡进入。 ②.还可以配合<code>&lt;keep-alive&gt;</code>使用，<strong>keep-alive</strong>可以缓存数据，这样不至于重新渲染路由组件的时候，之前那个路由组件的数据被清除了。比如对当前的路由组件a进行了一些DOM操作之后，点击进入另一个路由组件b，再回到路由组件a的时候之前的DOM操作还保存在，如果不加keep-alive再回到路由组件a时，之前的DOM操作就没有了，得重新进行。如果你的应用里有一个购物车组件，就需要用到keep-alive。</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、动态路由匹配" tabindex="-1"><a class="header-anchor" href="#四、动态路由匹配" aria-hidden="true">#</a> 四、动态路由匹配</h2><p>我们经常需要把某种模式匹配到的所有路由，全都映射到同个组件。 调用router的map方法映射路由，每条路由以key-value的形式存在，key是路径，value是组件。例如：&#39;/home&#39;是一条路由的key，它表示路径；{component: Home}则表示该条路由映射的组件：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token string-property property">&#39;/home&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Home <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token string-property property">&#39;/about&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">component</span><span class="token operator">:</span> About <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如，我们有一个 User 组件，对于所有 ID 各不相同的用户，都要使用这个组件来渲染。那么，我们可以在 vue-router 的路由路径中使用『动态路径参数』来达到这个效果。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;div&gt;User&lt;/div&gt;&#39;</span>\n<span class="token punctuation">}</span>\n \n<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token comment">// 动态路径参数 以冒号开头</span>\n    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> User <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如： /user/foo 和 /user/bar 都将映射到相同的路由。 一个『路径参数』使用冒号 : 标记。当匹配到一个路由时，参数值会被设置到<strong>this.$route.params</strong> 中。例如： <img src="'+t+'" alt="1624847415596-3352a92f-4311-4d2e-bcd4-e48721bfebe3.png" loading="lazy"></p><h2 id="五、vue-router参数传递" tabindex="-1"><a class="header-anchor" href="#五、vue-router参数传递" aria-hidden="true">#</a> 五、vue-router参数传递</h2><p>1.用name传值（不推荐） <img src="'+i+'" alt="1624847415714-529369b2-6c50-47af-93cb-3368824f70b4.png" loading="lazy"> 2.通过 标签中的to传参</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;router-link :to=&quot;{name:‘dxl’,params:{key:value}}&quot;&gt;东西里&lt;/router-link&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>name：就是我们在路由配置文件中起的name值。 另：<strong>命名路由</strong>就是用一个名称来标识一个路由，在定义路由的时候设置一个name属性即可。<strong>在router-link中也可以用路由的名字来链接到一个路由。</strong></li><li>params：就是我们要传的参数，它也是对象形势，在对象里可以传递多个值。 最后用<code>$route.params.username</code>进行接收. 3.用url传参 上面第五点也有提到。 <strong>:冒号的形式传递参数</strong> (1).在router路由配置文件里以冒号的形式设置参数</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{\n    path:&#39;/params/:newsId/:userName,\n    component:Params\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2).组件形式，在src/components目录下建立我们params.vue组件。 我们在页面里输出了url传递的参数。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;h2&gt;{{ msg }}&lt;/h2&gt;\n        &lt;p&gt;新闻ID：{{ $route.params.newsId}}&lt;/p&gt;\n        &lt;p&gt;用户名：{{ $route.params.userName}}&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nexport default {\n  name: &#39;params&#39;,\n  data () {\n    return {\n      msg: &#39;params page&#39;\n    }\n  }\n}\n&lt;/script&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3).标签path路径中传值</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;router-link to=&quot;/params/888/dxl shuai&gt;params&lt;/router-link&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(4).正则表达式在URL传值中的应用 希望我们传递的新闻ID只能是数字的形式，这时候我们就需要在传递时有个基本的类型判断，<code>path:&#39;/params/:newsId(\\\\d+)/:userName&#39;</code></p><h2 id="六-响应路由参数的变化" tabindex="-1"><a class="header-anchor" href="#六-响应路由参数的变化" aria-hidden="true">#</a> 六.响应路由参数的变化</h2><p>当使用路由参数时，例如从 /user/foo 导航到 /user/bar，原来的组件实例会被复用。因为两个路由都渲染同个组件，比起销毁再创建，复用则显得更加高效。不过，这也意味着组件的生命周期钩子不会再被调用。 复用组件时，想对路由参数的变化作出响应的话: (1). watch（监测变化） $route 对象：</p><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>const User = {\n  template: &#39;...&#39;,\n  watch: {\n    &#39;$route&#39; (to, from) {\n      // 对路由变化作出响应...\n    }\n  }\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2).beforeRouteUpdate 导航守卫 如果目的地和当前路由相同，只有参数发生了改变 (比如从一个用户资料到另一个 <code>/users/1</code> -&gt; <code>/users/2</code>)，你需要使用 <code>beforeRouteUpdate</code>来响应这个变化 (比如抓取用户信息)。</p><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>const User = {\n  template: &#39;...&#39;,\n  beforeRouteUpdate (to, from, next) {\n    // react to route changes...\n    // don&#39;t forget to call next()\n  }\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="七、实现不同路由不同页面标题" tabindex="-1"><a class="header-anchor" href="#七、实现不同路由不同页面标题" aria-hidden="true">#</a> 七、实现不同路由不同页面标题</h2><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>// 定义路由的时候如下定义，name也可为中文\nconst routes = [\n  { path: &#39;/goods&#39;, component: goods, name: &#39;goods&#39; },\n  { path: &#39;/orders&#39;, component: orders, name: &#39;orders&#39; },\n  { path: &#39;/seller&#39;, component: seller, name: &#39;seller&#39; }\n];\n// 创建路由实例\nconst router = new VueRouter({\n  routes: routes\n})\n// 关键在这里，设置afterEach钩子函数\nrouter.afterEach((to, from, next) =&gt; {\n  document.title = to.name;\n})\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="八、重定向" tabindex="-1"><a class="header-anchor" href="#八、重定向" aria-hidden="true">#</a> 八、重定向</h2><p>刚进入应用都是进入到“/”这个路由的，如果想直接进入到“/goods”怎么办，有两种方法。一种是利用重定向，另一种是利用vue-router的导航式编程。 redirect基本重定向：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">&#39;/goods&#39;</span><span class="token punctuation">}</span>\n<span class="token punctuation">]</span>\n重定向的目标也可以是一个命名的路由。\n<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;goods&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>\n<span class="token punctuation">]</span>\n重定向时也可以传递参数\n<span class="token punctuation">{</span>\n  <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">&#39;/goods/:newsId(\\\\d+)/:userName&#39;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>★.这里不得不提到<strong>alias</strong>别名的使用。 1.首先我们在路由配置文件里给路径起一个别名，dxl。</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token punctuation">{</span>\n    <span class="token property">path</span><span class="token punctuation">:</span> <span class="token string">&#39;/hi&#39;</span><span class="token punctuation">,</span>\n    <span class="token property">component</span><span class="token punctuation">:</span> Hi<span class="token punctuation">,</span>\n    <span class="token property">alias</span><span class="token punctuation">:</span><span class="token string">&#39;/dxl&#39;</span>\n <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.配置我们的，起过别名之后，可以直接使用标签里的to属性，进行重新定向。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;router-link to=&quot;/dxl&quot;&gt;jspang&lt;/router-link&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>区别：</p><ul><li>redirect：仔细观察URL，redirect是直接改变了url的值，把url变成了真实的path路径。</li><li>alias：URL路径没有别改变，这种情况更友好，让用户知道自己访问的路径，只是改变了中的内容。 ★★★.注意一个大坑： <strong>别名alias在path为&#39;/&#39;中，是不起作用的。</strong></li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token punctuation">{</span>\n  <span class="token property">path</span><span class="token punctuation">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>\n  <span class="token property">component</span><span class="token punctuation">:</span> Hello<span class="token punctuation">,</span>\n  <span class="token property">alias</span><span class="token punctuation">:</span><span class="token string">&#39;/home&#39;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="九、编程式导航" tabindex="-1"><a class="header-anchor" href="#九、编程式导航" aria-hidden="true">#</a> 九、编程式导航</h2><p><strong>1.router.push( )</strong> 想要导航到不同的 URL，则使用 <strong>router.push (在创建vue实例并挂载后调用)</strong>。router.push方法就是用来动态导航到不同的链接的，这个方法会向 history 栈添加一个新的记录，所以，当用户点击浏览器后退按钮时，则回到之前的 URL。 当你点击  时，这个方法会在内部调用，所以说，点击  等同于调用 router.push(...)。 <img src="'+l+'" alt="1624847415629-4a7a5f1e-7644-4370-9ed7-e1f83ce4873f.png" loading="lazy"><strong>注意： 如果提供了 path，params 会被忽略，而 query 并不属于这种情况。取而代之的是下面例子的做法，你需要提供路由的 name 或手写完整的带有参数的 path：</strong></p><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>const userId = 123\nrouter.push({ name: &#39;user&#39;, params: { userId }}) // -&gt; /user/123\nrouter.push({ path: `/user/${userId}` }) // -&gt; /user/123\n// 这里的 params 不生效\nrouter.push({ path: &#39;/user&#39;, params: { userId }}) // -&gt; /user\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.router.replace( )</strong> router.replace跟 router.push 很像，唯一的不同就是，它不会向 history 添加新记录，而是跟它的方法名一样 —— 替换掉当前的 history 记录。 <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwYAAABTCAYAAAAlbRANAAAah0lEQVR4Ae3dTUhbWR8G8Kel6MZsmi6aTVPK2I26UAQVqVBGWkdIcaBYUpS2FvJa0FdQhJYOlQwjLQQL1oIzgdYpkYZKX5QKGVssBUVUEF1UN81QTDe6MN3EjWEYX879yPeX5jt5hNYk995zzv3d6zn3f8+5JycODw8PwR8KUIACFKAABShAAQpQoKgFThb13nPnKUABClCAAhSgAAUoQAFJgIEBTwQKUIACFKAABShAAQpQAKdUg69fv6ov+ZsCFKAABShAAQpQgAIUKBKBCxcuSHvqCwzEO/XDIjHgblKAAhSgAAWSEhA31dh2JkXIjSlAgSwLBHYOcChRlg8Gs6cABShAAQpQgAIUoEAuCDAwyIWjwDJQgAIUoAAFKEABClAgywIMDLJ8AJg9BShAAQpQgAIUoAAFckGAgUEuHAWWgQIUoAAFKEABClCAAlkWYGCQ5QPA7ClAAQpQgAIUoAAFKJALAgwMcuEosAwUoAAFKEABClCAAhTIsgADgywfAGZPAQpQgAIUoAAFKECBXBBgYJALR4FloAAFKEABClCAAhSgQJYFGBhk+QAwewpQgAIUoAAFKEABCuSCAAODXDgKLAMFKEABClCAAhSgAAWyLMDAIMsHgNlTgAIUoAAFKEABClAgFwQYGOTCUWAZClpgb7YXtbW16J3di7GfnzFSWyutJ9aV/43gM/Yw26u+D/0tlsf5+Twip9U7C5H755F45YiTHhdTgAIUoEB0gb1Z9NbWYiS0clbr4rAFoUmpbUEvZj/LafnbhOA2IHabItL1tx9StlLZEmg3QovE90UlwMCgqA43dzbnBRqGMLc2h6GG0JI2YGhuDWtr4l+k5aHrK+91FyEltfwFO/iMD3Zg2WxGzBglSlL8mAIUoAAFYgvsLX/AMgD7h5DIQK2L7R/Cb+gowYQcANyBHaK+H4NBp+QltQtq/b+GufAGIkqhzuD8eXnR9vYe5LLZcSducBIlOX5cFAKnimIvuZMUyICA6BloMYsmIfLPsrkFtebwZQ1DcxgzhH+e+k+qMDBhhP2OHR+W92AwnEl9FkyRAhSgQNEKfMYrqQ0wYmJAJ/X2hjcJdtyptfuFjBNYGzBgbM0gunRRe8cOGE2QqudYncz+FBJ+dcYwhKEPLTCL4GSgClUJb8kVi0mAgUExHW3ua1oFzhjGIOr20B81YJADgGgX4zuhmyX4XnQVtyC88QndPLgxEkFKL0RAEq08odvzPQUoQAEKxBLYm7VCXPI3DF3Eh95X8qribv+YAWE1reglaDFLvQux0pSWLZvREumuklioBhNxEgm+MSXaA2BibYDBQRy3YlzMwKAYjzr3OW0CahAQKYPgilleI3awEJjKMswttQjvcDgDw9gaIsQjysZivGpA13RY6xSYB19TgAIUoMDxBPy9BaYGwGq2Kxf9MS7q1YxCgwT7HYhOBePEmtyToK4X8fcA1tYGIi4RH/raJKlngn0EUaG4wCfAwMBHwRcUSF4gWq9BwilLd4Yira2MOZUu7BPtJRDp6HBRPGQQfYRTpMz4GQUoQAEKHEVgbxvb0vp23GkRF/VzuGJtgRlRegyC0q6SAgAxOYQYSYQUXsSfkR4yYAMQxM03MQUYGMTk4UIKHFEgwW5dNdWwHgOp27kBywkND1JSCb3bpCYudWlP4Ir0fhlfxGgl9hgE6PAlBShAgRQJnJGfE5Dv0J/HlSrIgUKsYUAia99QI3lyCKk0oscAE5i7aI353BpglIYDQQ0ownbFiIkJ5cPtbeyhik1AmBE/CBXgrEShInxPgVQIiDs+0gxC/hkkRBAQ+lkqsoLUIAXPViS6oEVeY4aqoFkpUpIfE6EABShAgXCBvVmYzcswTtzC9sgrfPGtYcTE3BAapNmGJmCUOgWCZ5dTn0/wbWK/g5YvJl+bsTYhtlJ6E5S2RQwhEoODqgaUGYvUdXyzGA2gSp0NSZqZzpc6X1AgqgB7DKLScAEFckFgB1+kXuBozxjEL6OOY4niI3ENClCAAkkKfH4lP0y8LMYSNTSgIeERPPLzCQ0NDVheXpaGEk3Aiu0rOun7Z5Lq6D1zHmLG0oSLkqQBN89/AQYG+X8MuQe5KKA8PBZYtEgPHwcul16HPmOgjlv1dTeLtY7yjAGgjjFdVscSiaFHr85jbIAPooX58wMKUIACxxLYw7Z4yEB9PkAa4rkM+WJffu5AJLvcolyii+BB/IhnwKR63giTCXJgIPUCjKFK+lK0gKlNxfoBbUvYUFQ5xZD/1efMtrG9B1SdERMZ9WL71pg8JWrI2nxLAQYGPAcokEKBz+IbxKS2YQ2xrrt9M0WE5h0hABDNSMOVhiONDbXfqZWmzROtztCcCUbYYVfnrt75gmW7WRrDuharkKFl43sKUIACFIgioMwQJ13M31HWMWLoyjaWl8VQoouwtnzAlTkTvrTcASbmcFF6OFk8+2WAaeIzqvAhOO2qgBmH1OfX1MAjeM3gd4HPNRgnMHelQUQcyvfXANvboge6FxBfopZUd0RwtnxXGAIMDArjOHIvckFgbxZWeRJr3IpzMz589qIqDKytIXDSub1Zs/L9BEaYgmpvdXiRvNO+mSyk59jmsDYWXtPvDTXAbrbDOnsLQ8rcGUbxdBx/KEABClAgeQF1Eghx4T53Uf6OAuMVNMCaUNpVVVXA55DAIJEt1XyldcXDyGsRvpvABKN5GXbzK3w2XJGHpzZcQUN4U5FIjlynwAUYGBT4AebuZU5AHl/agKGhCF9mc4xiiOBhDr0w45ZU0QcGACI544Ty5TTiwbPAiCJCXiKtiS+1uGNugdSB3TAUN3iJkAw/ogAFKECBSALKrETSoj3gfANw3jc1kdwrIH27sVhhbQIjtWIqUzEpUZTeYLWHIDSvgKFEYlFi33VQhYG5IWy3mH3fumw0paadCi0e3+e/wInDw8NDsRtfv37FhQsX8n+PuAcUoAAFKECBDAmw7cwQNLOhAAXSJhBYj3G60rQxM2EKUIACFKAABShAAQrkjwADg/w5ViwpBShAAQpQgAIUoAAF0ibAwCBttEyYAhSgAAUoQAEKUIAC+SPAwCB/jhVLSgEKUIACFKAABShAgbQJMDBIGy0TpgAFKEABClCAAhSgQP4IMDDIn2PFklKAAhSgAAUoQAEKUCBtAgwM0kbLhClAAQpQgAIUoAAFKJA/AgwM8udYsaQUoAAFKEABClCAAhRImwADg7TRMmEKUIACFKAABShAAQrkjwADg/w5ViwpBShAAQpQgAIUoAAF0ibAwCBttEyYAhSgAAUoQAEKUIAC+SNwKrCoX79+DXzL1xSgAAUoQAEKxBFg2xkHiIspQIG8EQgKDC5cuJA3BWdBKUABClCAAtkWEEEB285sHwXmTwEKJCMQeHODQ4mSkeS2FKAABShAAQpQgAIUKBABBgYFciC5GxSgAAUoQAEKUIACFEhGgIFBMnrclgIUoAAFKEABClCAAgUiwMCgQA4kd4MCFKAABShAAQpQgALJCDAwSEaP21KAAhSgAAUoQAEKUKBABBgYFMiB5G5QgAIUoAAFKEABClAgGQEGBsnocVsKUIACFKAABShAAQoUiEDQ9xgcZ5/+/fdf/PPPPzg8PDzO5tyGAhTIksCJEydw6tQpnDzJ+wNZOgTMtogF2HYW8cFP8a6zLk8xaJEnl/QVAYOCIj+DuPt5KyCCefH3yx8KUCDzAmw7M29eqDmyLi/UI5ud/Uo6MGBPQXYOHHOlQCoE+PebCkWmQYGjC/Bv7+hm3CK6AM+n6DZccjSBpAODo2XHtSlAAQpQgAIUoAAFKECBXBRgYJCLR4VlogAFKEABClCAAhSgQIYFGBhkGJzZUYACFKAABShQAAIeDw4yuBsHbjc8GcyPWRWnAAODpI67G47+RjQ2Kv9GN5NKLXjjTYw29sPhDv40L95tjqJRshD7MIpUqsTbf7ejH/0Cze1Af78DOcEnyqKeI42NSOlpEg+EyylAAQoUmMDmaEC7m616fseB+w8c2M1gZOB1TeLB6GZGg5ECO3W4OwkIFE5gsLOA8enNDEfTWrQ+XcLS0hLePayLzu1ewKOrj7CQE1epajE92Jwex8KO+j5Nv8+eRmmako6bbFkZSuKulIEVtK14uiTOk3eIdZpkoCTMggIUKDqBDNX1GXSt7JPb3aU/2jOYa0BWB5sYv7+C1sc3oM9gA6ep6UZ3iQXDC+w3CDgafJligcIJDNwbmFz8Bm+KgVKSnLYJv77/FU3alKR2pEQONm3ouWVBeD3ixbfFSWykO1jRa3H6SCVO4cra09CkMDkmRQEKUCD/BDJU1+cfzLFL7FmcxHxzJ5oy3sCUorKjE97RGTiPXXpuSIHYAmkLDDzOeYz224KGkYhhHj3TK5i3mGC4LLoCf/NfsLrXYes34HJjIy4bTLDMB9zKFkNTgroLA4bZqMM0/jMFrA7jmjJkQxpOou77gQsOiwlXxbKrJlgcruCuOJG+ZQGbb+7DeFWUy4g3LnXjJH6LdH1DSEKHBYlhSP1wrC/AYrqKxsbLMPS/gTNKt+TB5iiMV+/DEcCSSMm8+y44v7mwv+9fW+6GvYbhVWDqP2qXbOCQnwO4HBaYJIurMN5/g82j3KCo7MNSXyWASvQ9bUUm4yFt61M8bdUC4i69VAb/fsd9Fec8cK/b0G+4rBwrG9Z9QZU4H3+D7U2/fF5fNuDRdMg5FivzwPPzsgH9tvXgIVCBy6+a8GjaGXT+HrgcyjnUiKsmCxwu9SRyY97yCG/Wd4LWj1UULqMABbIgELPuiVUfB7SFSrFF/a62f/HrejfWbf56K6zugUjfgoXNN7hvFO1UI4wJN46ijevB9Mo8LCa5bW/8bcHfqx9SrwW2y9K1wqgtoF4bxYqvvk3g+ARcT0Rq84Pr8lGsBLWr8UzcWHQ40VZfnkBB0rCKphpN+pdwZHKMbhp2g0nmrkCKAwMPXCtv8OjWZVy3LOBsezNC/3Q2nk3B0zaC2U+iK/AXJeJ2wtYzgI1mKz4tLeHT626UvLgJy7p6gRMDUB2mIboU6x7inTRkY0m+OJQ282Bh+Dbmzw3irVj2thslttt4Fpr2zDj+0g/C/l6Uy44b+hh5JrpIXCBL5fkDkTs8N/BmsQRd1vfSMBOzfgr3p8LvA4ig4HavC51/PkGrLtHM5fU09b/g/afnQdvJ3bDysJb2P5Qu2aU+iEt58eNZGMZtWwm634pl7/G0aRW9A9OQ686Q5yrUwCcocFMSysdf0c4Dpw09w7to+/MTlpY+wdq8gYEHqonY0Q3s6h/K5/XbQWgmI5xjET0OsP7sNuZ/MOO9OFc+WXFpoxeWeTUSE+evCfMVyvL3ZtQv9vi7kj0LGL49j3ODb6Vz7W13CWy3n0E+vbWo/qkeu1P9uCYCijfr2EngTypiMfkhBSiQXoEodU/s+jh2keLV9U5bD4Z32/CnaI8/WdG8MYAH00FXyQBmMP6XHoN20U4twX6kxnEDz6Y8aBuZldr2pV+alF7c+O3yhqsE7WMizzk8/9EVUt/G2u8dTD8YxveO13Keos1/0Q9f0yrqcst3dLyW6/LXHZBuYqotb1wTzxZWVutRfi5WGdK5TIvy6tNYd6bi7mU6y8m081UgZYGBZ30cJsNNjK5q0P5kDu+tv+JGvS58fHlbB34uD+l/c65gpuS/6FOvejU16Lpbh5mZVf/dheMKuxcxs9iGrhvlcoWkqUHH3WrMLKrVgJJwdSc66sPvbQc95CRdBIfe+T9uwcR2XtT8WK/cUdegoq4euxuuoLvFntVxmAZc6Hz9NOjiPplcY2/rwcb8R7T2daNGOUy61nvock9iXiLzP1chBz1KYJHhnoHY+5DE0mjngeMldHe7fMPBdK1daHcuBgzF0qOiXDl/tE1o7zgHx2rIORaxWKWo6H6Hxz+rEZ8O9c3VWNxSKn33KmY+tqJD/duADj8OjqBNCVzdizNYbOvCDeVvSlPTgbvVM1BPb21lK/qe2PH+nRntmlWMmwwwTbNBiXgo+CEFsikQse6JVx8nU+BNOF7qcLerSWmDdGjtaodzcSOoDQKq0dmhtlNHz6+t42eENvlIpF3WVyjj9zUob2tH29YithLqNdChdeRPdKsNmKYGl5p2seGUN96cfwltZ7uvfdPUdOHJYDXKpJsmCZh497GPEpRl8NmCUPXTWj3+/qbePApdyvcUSE7gVHKb+7cu0VXjUrkDU1sr2HJVQK/TRxnfHeFx0IPv2NVqUeZPDpqzOojxL0k/M7DjxKp3CquNUwGpA6hrhhuV/mEuJYj4oKp0x6UveNN0vSstEzaBe7yKZ5YtlEGPg8CP01UAKV2vNOyoJKjWOw2tfjfqMKe0FifTiUc8D9z45vJideoaGoeDC9Qubq6Fx5MoK9XCm+AxK93fwujwKByL3+Ab8aV2Me1sYRVAV0C2pbpK1Cjvd5yr8E6tIvz0dgOVasEOsOPcwMeFBWygGh3lWXvqI2Av+JICFAgSiFj3pLE+dn+Dy7uKqWuNCK7W2qXeYbX2kFrGCM12UNljvYm0bZx2OSy5UnkiiQSrVGB3HsMDL7G49d3XotY9FKm68c3pRYk+sFAa6GuU/vKETcJKyA8oUDACKQsMSnX16Hw6i073JhyTFlx/4EJF6yAGB5ug3guNqlZ6GmfdB9JFkVoZeb67gbLqiBfrUdOJtEBzDj+c7cYv/+sMG9YUafXc+uwHdIxZ0b77ANfvj6L8zz5Upv0uRQnKygDvvrh9omb2HW7XWZyW3oqhRPLzCUFWYhhXofQaBO2YeFOG0zrgknkOT5pDervC1pU/2D9woySw7YmyHuDCm34LvPee490TuYdNjK+9pnY26CpQhy1f4yYlc+CBBxpoSgHNuR9wtvsX/K8zdNCeWNODTdswhidXUVLXjXv3rOjTJ1b+qMXlAgpQIIMC8erjJIpSdho6XIJ57gkSrNaSyCxk0zjtcljHwIF8kzChKtUjnttbRIX1NX5VuipEz/9LqQhanCsvgTe4RsWBxwNoNCjNpkkIEd9SIFsCKRtK5NsBbSVa+57j/ZwVHedC//x8awW/KK9Hm/cZXswr1YFnHS/HF9HWVif3OugrcGl1HVtKz5ln/SNWglMAdOWoC1jHt1jfhE79JMannb5hSe4VG2zr+dANp4VeVwpt82OM1a+g94FDGefv27u4L6LPSqTFOX0J1rfUK1A1KQ2qm3+E4+WU74HjHcc4Xmo70Cxde6ZmKJFcrkdQD7mau/z7AJu2Htx6NB/Spa2s5Z7Ho1s9sG1masB8Kap/6oDrxe/+B+A8TkzbHAFj9l1wupRzyr2Aqcl9tF2KdLEevKeih0j0LJSUKdO6epxYmN/wr6StQ9uPDkz6njrfgePBdVhW5bz0TZ3QT45j2qmez26s2GyQT28vvLo2PHn7Ca9+vYF6BgV+V76iQF4IxKuP9ai4tIp1f+OIj2GNY5S6vrQaP3W48OL3FV8963FOw+Y44mQFx6mPE2mXXU6lvfPAOTOFmbpmVKt3DuMcO1GnasrkmyAHOyv4K8CksrkLbtuUUkcCnvVR3DbN4JtIMxET7TmUl7iwGxa9+AuV7vZN9BTXVcS95eovEF9R4AgCqQ8M1MxLdai50YzEnuEtR+fzEZQ7bsuzEt38Hd67rzFYo9yx1jSj73EpJq83ovGyAUPOcjT9oGak/Nb+iHv//Q7LNTHLzlUYx9UvAdGi+bEVzX9bcFPMhHTZgAeLWjRVpOLOqf9B3GvyFD/yLETqg7i+WYn+gymsYlgq23G+4KoUlX1PMQgL+o/45SaRZiVS5Srbzaj82COV+bLhPtSJoDRND/Fn2y6eCe/Gq+hfqMPYyM/xe37UhBP4LZfre5ThNl7su5z49j1KYLnvhuubE98T7ldOoEBxVimtvIfng2cx0yPPzHHV9AL7FXXQqZ0qKIPbMSTPSnT9BQ7uPkW32r2jzpzVGDwTlDxzSDnan7TDNdQiz3Y0tILS6mrRZaPMJKRB00MrmreGlFm1hrDVbMVDdZ48bTMeW5vxt+WmMqPXAyxqmyCf3lrUNNeD8UCcg8vFFMhhgdj1sQbNfY9ROnldqT+cKA9rHIHIdX0pKu89x+DZGfQoM9CZXuyjoi7Cs4GxfI5VHyfSLm9hUpqxrwU9i9UYe+if4c737F/QbITKzHqaJtx7rMPMbbn96p38jh9qSuA+UAZqlnfi+eBpTN6UZ5i7OXkag8/VEQWJmJSjrnUDG9GmEBQDgqXZANPVvrngXK/ApYoEo6RYx47LKBBB4MTh4eGh+Pzr16+4cOFChFVif3RwkKm7trHLwaUUyJ6AmNLvJcrfPYWYKTXffkpLfdFNvhWd5aVA1gXYdqb+EMjDKbuUaa9Tn37SKTptML7QwfqkOcqzlEnnED0BkbdND+uv6gxP/lVZl/st+OpoAoH1WPp6DI5WJq5NAQpQgAIUoAAFcl+gvB0PdVN4GTrtedpL7sL06AY674UHBWnPmhkUjQADg6I51NxRClCAAhSgAAWSFxDDe82odkwp3xmTfIqJpLDjmMJ+3+MMTV2eSIm4TiEKJD2UyOv1QhmNVIg+3CcKFLTAiRMnUJLY9EkF7cCdo8BxBQK74I+SBtvOo2hx3XgCrMvjCXF5LIHAeizpHoNTp05BnJD8oQAF8ktA/N2Kv1/+UIACmRdg25l580LNkXV5oR7Z7OxX0lcFJ0+e5B3H7Bw75koBClCAAnkqwLYzTw8ci02BAhdIusegwH24exSgAAUoQAEKUIACFCgKAQYGRXGYuZMUoAAFKEABClCAAhSILcDAILYPl1KAAhSgAAUoQAEKUKAoBBgYFMVh5k5SgAIUoAAFKEABClAgtgADg9g+XEoBClCAAhSgAAUoQIGiEGBgUBSHmTtJAQpQgAIUoAAFKECB2AIMDGL7cCkFKEABClCAAhSgAAWKQiDoewzEN5/xhwIUoAAFKECBxAXYdiZuxTUpQIHcFjhxeHh4mNtFZOkoQAEKUIACFKAABShAgXQLcChRuoWZPgUoQAEKUIACFKAABfJAgIFBHhwkFpECFKAABShAAQpQgALpFvg/c4kf6aIlQf4AAAAASUVORK5CYII=" alt="1624847415617-6b0abd5e-0f61-4274-b577-0d5dff873bb1.png" loading="lazy"><strong>3.router.go(n)</strong> 这个方法的参数是一个整数，意思是在 history 记录中向前或者后退多少步，类似 window.history.go(n)。</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// 在浏览器记录中前进一步，等同于 history.forward()</span>\nrouter<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\n<span class="token comment">// 后退一步记录，等同于 history.back()</span>\nrouter<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>自定义一个goback()方法，并使用this.$router.go(-1),进行后退操作</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;\nexport default {\n  name: &#39;app&#39;,\n  methods:{\n    goback(){\n      this.$router.go(-1);\n    },\n    goHome(){\n      this.$router.push(&#39;/&#39;);\n    }\n  }\n}\n&lt;/script&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="十、路由中的钩子" tabindex="-1"><a class="header-anchor" href="#十、路由中的钩子" aria-hidden="true">#</a> 十、路由中的钩子</h2><p><strong>1.路由配置文件中的钩子函数：</strong> 在路由文件中我们只能写一个beforeEnter,就是在进入此路由配置时：</p><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>{\n      path:&#39;/params/:newsId(\\\\d+)/:userName&#39;,\n      component:Params,\n      beforeEnter:(to,from,next)=&gt;{\n        console.log(&#39;我进入了params模板&#39;);\n        console.log(to);\n        console.log(from);\n        next();\n},\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>三个参数：</p><ul><li>to:路由将要跳转的路径信息，信息是包含在对像里边的。</li><li>from:路径跳转前的路径信息，也是一个对象的形式。</li><li>next:路由的控制参数，常用的有next(true)和next(false)。 <strong>2.写在模板中的钩子函数：</strong> 写在模板中就可以有两个钩子函数可以使用。 beforeRouteEnter：在路由进入前的钩子函数。 beforeRouteLeave：在路由离开前的钩子函数。</li></ul><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>export default {\n  name: &#39;params&#39;,\n  data () {\n    return {\n      msg: &#39;params page&#39;\n    }\n  },\n  beforeRouteEnter:(to,from,next)=&gt;{\n    console.log(&quot;准备进入路由模板&quot;);\n    next();\n  },\n  beforeRouteLeave: (to, from, next) =&gt; {\n    console.log(&quot;准备离开路由模板&quot;);\n    next();\n  }\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>★此处常用于<strong>数据获取</strong>。</p><ul><li><strong>导航完成之后获取</strong>：先完成导航，然后在接下来的组件生命周期钩子中获取数据。在数据获取期间显示『加载中』之类的指示。 当你使用这种方式时，我们会马上导航和渲染组件，然后在组件的 <strong>created</strong> 钩子中获取数据。这让我们有机会在数据获取期间展示一个 loading 状态，还可以在不同视图间展示不同的 loading 状态。 假设我们有一个 Post 组件，需要基于 <code>$route.params.id</code> 获取文章数据：</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;\n  &lt;div class=&quot;post&quot;&gt;\n    &lt;div class=&quot;loading&quot; v-if=&quot;loading&quot;&gt;\n      Loading...\n    &lt;/div&gt;\n    &lt;div v-if=&quot;error&quot; class=&quot;error&quot;&gt;\n      {{ error }}\n    &lt;/div&gt;\n    &lt;div v-if=&quot;post&quot; class=&quot;content&quot;&gt;\n      &lt;h2&gt;{{ post.title }}&lt;/h2&gt;\n      &lt;p&gt;{{ post.body }}&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\nexport default {\n  data () {\n    return {\n      loading: false,\n      post: null,\n      error: null\n    }\n  },\n  created () {\n    // 组件创建完后获取数据，\n    // 此时 data 已经被 observed 了\n    this.fetchData()\n  },\n  watch: {\n    // 如果路由有变化，会再次执行该方法\n    &#39;$route&#39;: &#39;fetchData&#39;\n  },\n  methods: {\n    fetchData () {\n      this.error = this.post = null\n      this.loading = true\n      // replace getPost with your data fetching util / API wrapper\n      getPost(this.$route.params.id, (err, post) =&gt; {\n        this.loading = false\n        if (err) {\n          this.error = err.toString()\n        } else {\n          this.post = post\n        }\n      })\n    }\n  }\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>导航完成之前获取</strong>：导航完成前，在路由进入的守卫中获取数据，在数据获取成功后再执行导航。 通过这种方式，我们在导航转入新的路由前获取数据。我们可以在接下来的组件的 beforeRouteEnter 守卫中获取数据，当数据获取成功后只调用 next 方法。</li></ul><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>export default {\n  data () {\n    return {\n      post: null,\n      error: null\n    }\n  },\n  beforeRouteEnter (to, from, next) {\n    getPost(to.params.id, (err, post) =&gt; {\n      next(vm =&gt; vm.setData(err, post))\n    })\n  },\n  // 路由改变前，组件就已经渲染完了\n  // 逻辑稍稍不同\n  beforeRouteUpdate (to, from, next) {\n    this.post = null\n    getPost(to.params.id, (err, post) =&gt; {\n      this.setData(err, post)\n      next()\n    })\n  },\n  methods: {\n    setData (err, post) {\n      if (err) {\n        this.error = err.toString()\n      } else {\n        this.post = post\n      }\n    }\n  }\n}\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="十一、history-模式" tabindex="-1"><a class="header-anchor" href="#十一、history-模式" aria-hidden="true">#</a> 十一、History 模式</h2><p>vue-router 默认 hash 模式 —— 使用 URL 的 hash 来模拟一个完整的 URL，于是当 URL 改变时，页面不会重新加载。 如果不想要很丑的 hash，我们可以用路由的 history 模式，这种模式充分利用 history.pushState API 来完成 URL 跳转而无须重新加载页面。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;history&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在学习过渡效果的时候，我们学了mode的设置，但是在路由的属性中还有一个mode。 <strong>mode的两个值：</strong></p>',59),x=(0,a.Uk)("histroy:当你使用 history 模式时，URL 就像正常的 url， "),B={href:"http://www.dxl.com/user/id",target:"_blank",rel:"noopener noreferrer"},Q=(0,a.Uk)("http://www.dxl.com/user/id"),E=(0,a.Uk)(" 不过这种模式要玩好，还需要后台配置支持。因为我们的应用是个单页客户端应用，如果后台没有正确的配置，当用户在浏览器直接访问 "),F={href:"http://www.dxl.com/user/id",target:"_blank",rel:"noopener noreferrer"},I=(0,a.Uk)("http://www.dxl.com/user/id"),j=(0,a.Uk)(" 就会返回 404，。所以要在服务端增加一个覆盖所有情况的候选资源：如果 URL 匹配不到任何静态资源，则应该返回同一个 index.html 页面，这个页面就是你 app 依赖的页面。 "),D=(0,a._)("img",{src:r,alt:"1624847415620-7b86a738-135c-4192-b83f-b05866383816.png",loading:"lazy"},null,-1),S=(0,a.Uk)(" 这么做以后，你的服务器就不再返回 404 错误页面，因为对于所有路径都会返回 index.html 文件。 为了避免这种情况，你应该在 Vue 应用里面覆盖所有的路由情况，然后在给出一个 404 页面。"),Y=(0,a.uE)('<div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>const router = new VueRouter({\n  mode: &#39;history&#39;,\n  routes: [\n    { path: &#39;*&#39;, component: Error}\n  ]\n})\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里的path:&#39;*&#39;就是找不到页面时的配置，component是我们新建的一个Error.vue的文件</p>',2),L=(0,a.Uk)("hash:默认’hash’值，但是hash看起来就像无意义的字符排列，不太好看也不符合我们一般的网址浏览习惯。不配置时是这样的："),H={href:"https://link.jianshu.com/?t=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fusers",target:"_blank",rel:"noopener noreferrer"},M=(0,a.Uk)("http://localhost:8080/#/users"),G=(0,a.Uk)("，多个#号。"),q=(0,a.uE)('<h2 id="十二、路由组件传参" tabindex="-1"><a class="header-anchor" href="#十二、路由组件传参" aria-hidden="true">#</a> 十二、路由组件传参</h2><p>（这点是直接粘贴的vue官网上的教程，此处是重点要多看多体会！） 在组件中使用 $route 会使之与其对应路由形成高度耦合，从而使组件只能在某些特定的 URL 上使用，限制了其灵活性。 <strong>解耦前：</strong><code>id</code>不能直接拿出来使用</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;div&gt;User {{ $route.params.id }}&lt;/div&gt;&#39;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> User <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用 props 将组件和路由解耦：</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;div&gt;User {{ id }}&lt;/div&gt;&#39;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> User<span class="token punctuation">,</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n \n    <span class="token comment">// 对于包含命名视图的路由，你必须分别为每个命名视图添加 `props` 选项：</span>\n    <span class="token punctuation">{</span>\n      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> User<span class="token punctuation">,</span> <span class="token literal-property property">sidebar</span><span class="token operator">:</span> Sidebar <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">sidebar</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样你便可以在任何地方使用该组件，使得该组件更易于重用和测试。 <strong>1.布尔模式</strong> 如果 props 被设置为 true，route.params 将会被设置为组件属性。 <strong>2.对象模式</strong> 如果 props 是一个对象，它会被按原样设置为组件属性。当 props 是静态的时候有用。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/promotion/from-newsletter&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Promotion<span class="token punctuation">,</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">newsletterPopup</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3.函数模式</strong> 你可以创建一个函数返回 props。这样你便可以将参数转换成另一种类型，将静态值与基于路由的值结合等等。</p><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>const router = new VueRouter({\n  routes: [\n    { path: &#39;/search&#39;, component: SearchUser, props: (route) =&gt; ({ query: route.query.q }) }\n  ]\n})\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>/search?q=vue</code>会将<code>{query: &#39;vue&#39;}</code>作为属性传递给 SearchUser 组件。 请尽可能保持 props 函数为无状态的，因为它只会在路由发生变化时起作用。如果你需要状态来定义 props，请使用包装组件，这样 Vue 才可以对状态变化做出反应。</p><div class="language-jsscript ext-jsscript line-numbers-mode"><pre class="language-jsscript"><code>function dynamicPropsFn (route) {\n  const now = new Date()\n  return {\n    name: (now.getFullYear() + parseInt(route.params.years)) + &#39;!&#39;\n  }\n}\nconst router = new VueRouter({\n  mode: &#39;history&#39;,\n  base: __dirname,\n  routes: [\n    { path: &#39;/&#39;, component: Hello }, // No props, no nothing\n    { path: &#39;/hello/:name&#39;, component: Hello, props: true }, // Pass route.params to props\n    { path: &#39;/static&#39;, component: Hello, props: { name: &#39;world&#39; }}, // static values\n    { path: &#39;/dynamic/:years&#39;, component: Hello, props: dynamicPropsFn }, // custom logic for mapping between route and props\n    { path: &#39;/attrs&#39;, component: Hello, props: { name: &#39;attrs&#39; }}\n  ]\n})\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',11),P={},N=(0,e(83744).Z)(P,[["render",function(n,s){const e=(0,a.up)("ExternalLinkIcon");return(0,a.wg)(),(0,a.iD)("div",null,[o,p,(0,a._)("p",null,[c,(0,a._)("a",d,[u,(0,a.Wm)(e)]),v,m]),g,(0,a._)("ul",null,[b,(0,a._)("li",null,[k,A,h,y,U,(0,a._)("a",f,[w,(0,a.Wm)(e)]),C])]),K,(0,a._)("ul",null,[(0,a._)("li",null,[x,(0,a._)("a",B,[Q,(0,a.Wm)(e)]),E,(0,a._)("a",F,[I,(0,a.Wm)(e)]),j,D,S])]),Y,(0,a._)("ul",null,[(0,a._)("li",null,[L,(0,a._)("a",H,[M,(0,a.Wm)(e)]),G])]),q])}]])}}]);