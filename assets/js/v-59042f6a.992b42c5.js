"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[8994],{72539:(n,a,s)=>{s.r(a),s.d(a,{data:()=>t});const t=JSON.parse('{"key":"v-59042f6a","path":"/java-tutor/stackoverflow/how-can-i-convert-a-stack-trace-to-a-string.html","title":"怎样将堆栈追踪信息转换为字符串","lang":"zh-CN","frontmatter":{"summary":"怎样将堆栈追踪信息转换为字符串 问题 将Throwable.getStackTrace()的结果转换为一个字符串来来描述堆栈信息的最简单的方法是什么 最佳答案 可以用下面的方法将异常堆栈信息转换为字符串类型。该类在Apache commons-lang-2.2.jar中可以找到： org.apache.commons.lang.exception.Excep","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/java-tutor/stackoverflow/how-can-i-convert-a-stack-trace-to-a-string.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"怎样将堆栈追踪信息转换为字符串"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-03-22T11:07:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-03-22T11:07:21.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"问题","slug":"问题","children":[{"level":3,"title":"最佳答案","slug":"最佳答案","children":[]},{"level":3,"title":"答案二","slug":"答案二","children":[]},{"level":3,"title":"答案三","slug":"答案三","children":[]},{"level":3,"title":"答案四","slug":"答案四","children":[]}]}],"git":{"createdTime":1647947241000,"updatedTime":1647947241000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":1}]},"readingTime":{"minutes":0.63,"words":190},"filePathRelative":"java-tutor/stackoverflow/how-can-i-convert-a-stack-trace-to-a-string.md","localizedDate":"2022年3月22日"}')},85516:(n,a,s)=>{s.r(a),s.d(a,{default:()=>m});var t=s(66252);const e=(0,t.uE)('<h1 id="怎样将堆栈追踪信息转换为字符串" tabindex="-1"><a class="header-anchor" href="#怎样将堆栈追踪信息转换为字符串" aria-hidden="true">#</a> 怎样将堆栈追踪信息转换为字符串</h1><h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题</h2><p>将<code>Throwable.getStackTrace()</code>的结果转换为一个字符串来来描述堆栈信息的最简单的方法是什么</p><h3 id="最佳答案" tabindex="-1"><a class="header-anchor" href="#最佳答案" aria-hidden="true">#</a> 最佳答案</h3><p>可以用下面的方法将异常堆栈信息转换为字符串类型。该类在Apache commons-lang-2.2.jar中可以找到： <a href="org.apache.commons.lang.exception.ExceptionUtils.getStackTrace(Throwable)"><code>org.apache.commons.lang.exception.ExceptionUtils.getStackTrace(Throwable)</code></a></p><h3 id="答案二" tabindex="-1"><a class="header-anchor" href="#答案二" aria-hidden="true">#</a> 答案二</h3>',6),c=(0,t.Uk)("用 "),o={href:"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#printStackTrace-java.io.PrintWriter-",target:"_blank",rel:"noopener noreferrer"},p=(0,t._)("code",null,"Throwable.printStackTrace(PrintWriter pw)",-1),i=(0,t.Uk)("可以输出堆栈信息："),l=(0,t.uE)('<div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringWriter</span> sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>sw<span class="token punctuation">)</span><span class="token punctuation">;</span>\nt<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span>pw<span class="token punctuation">)</span><span class="token punctuation">;</span>\nsw<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// stack trace as a string</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="答案三" tabindex="-1"><a class="header-anchor" href="#答案三" aria-hidden="true">#</a> 答案三</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringWriter</span> sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\ne<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>sw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">String</span> exceptionAsString <span class="token operator">=</span> sw<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="答案四" tabindex="-1"><a class="header-anchor" href="#答案四" aria-hidden="true">#</a> 答案四</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">stackTraceToString</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">StackTraceElement</span> element <span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token function">getStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',5),r=(0,t.Uk)("stackoverflow链接： "),u={href:"http://stackoverflow.com/questions/1149703/how-can-i-convert-a-stack-trace-to-a-string",target:"_blank",rel:"noopener noreferrer"},k=(0,t.Uk)("http://stackoverflow.com/questions/1149703/how-can-i-convert-a-stack-trace-to-a-string"),d={},m=(0,s(83744).Z)(d,[["render",function(n,a){const s=(0,t.up)("ExternalLinkIcon");return(0,t.wg)(),(0,t.iD)("div",null,[e,(0,t._)("p",null,[c,(0,t._)("a",o,[p,(0,t.Wm)(s)]),i]),l,(0,t._)("p",null,[r,(0,t._)("a",u,[k,(0,t.Wm)(s)])])])}]])}}]);