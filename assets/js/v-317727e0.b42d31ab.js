"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[64940],{82122:(e,t,p)=>{p.r(t),p.d(t,{data:()=>r});const r=JSON.parse('{"key":"v-317727e0","path":"/linux-tutor/base/07_network.html","title":"网络工具","lang":"zh-CN","frontmatter":{"order":7,"summary":"网络工具 查询网络服务和端口 netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。 列出所有端口 (包括监听和未监听的): netstat -a 列出所有 tcp 端口: netstat -at 列","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/linux-tutor/base/07_network.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"网络工具"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-05-26T17:48:57.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-05-26T17:48:57.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"查询网络服务和端口","slug":"查询网络服务和端口","children":[]},{"level":2,"title":"网络路由","slug":"网络路由","children":[]},{"level":2,"title":"镜像下载","slug":"镜像下载","children":[]},{"level":2,"title":"ftp sftp lftp ssh","slug":"ftp-sftp-lftp-ssh","children":[]},{"level":2,"title":"网络复制","slug":"网络复制","children":[]},{"level":2,"title":"总结","slug":"总结","children":[]}],"git":{"createdTime":1653565176000,"updatedTime":1653587337000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":2}]},"readingTime":{"minutes":2.31,"words":693},"filePathRelative":"linux-tutor/base/07_network.md","localizedDate":"2022年5月26日"}')},3593:(e,t,p)=>{p.r(t),p.d(t,{default:()=>n});var r=p(66252);const a=[(0,r.uE)('<h1 id="网络工具" tabindex="-1"><a class="header-anchor" href="#网络工具" aria-hidden="true">#</a> 网络工具</h1><h2 id="查询网络服务和端口" tabindex="-1"><a class="header-anchor" href="#查询网络服务和端口" aria-hidden="true">#</a> 查询网络服务和端口</h2><p>netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p><p>列出所有端口 (包括监听和未监听的):</p><pre><code>netstat -a\n</code></pre><p>列出所有 tcp 端口:</p><pre><code>netstat -at\n</code></pre><p>列出所有有监听的服务状态:</p><pre><code>netstat -l\n</code></pre><p>使用netstat工具查询端口:</p><pre><code>$netstat -antp | grep 6379\ntcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN      25501/redis-server\n\n$ps 25501\n  PID TTY      STAT   TIME COMMAND\n25501 ?        Ssl   28:21 ./redis-server ./redis.conf\n</code></pre><p>lsof（list open files）是一个列出当前系统打开文件的工具。在linux环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。所以如传输控制协议 (TCP) 和用户数据报协议 (UDP) 套接字等； 在查询网络端口时，经常会用到这个工具。</p><p>查询7902端口现在运行什么程序:</p><pre><code>#分为两步\n#第一步，查询使用该端口的进程的PID；\n$lsof -i:7902\nCOMMAND   PID   USER   FD   TYPE    DEVICE SIZE NODE NAME\nWSL     30294 tuapp    4u  IPv4 447684086       TCP 10.6.50.37:tnos-dp (LISTEN)\n\n#查到30294\n#使用ps工具查询进程详情：\n$ps -fe | grep 30294\ntdev5  30294 26160  0 Sep10 ?        01:10:50 tdesl -k 43476\nroot     22781 22698  0 00:54 pts/20   00:00:00 grep 11554\n</code></pre><div class="custom-container note"><p class="custom-container-title">注</p><p>::: title Note</p></div><p>以上介绍lsof关于网络方面的应用，这个工具非常强大，需要好好掌握，详见 <code>lsof</code>{.interpreted-text role=&quot;ref&quot;} ; :::</p><h2 id="网络路由" tabindex="-1"><a class="header-anchor" href="#网络路由" aria-hidden="true">#</a> 网络路由</h2><p>查看路由状态:</p><pre><code>$route -n\n</code></pre><p>发送ping包到地址IP:</p><pre><code>$ping IP\n</code></pre><p>探测前往地址IP的路由路径:</p><pre><code>$traceroute IP\n</code></pre><p>DNS查询，寻找域名domain对应的IP:</p><pre><code>$host domain\n</code></pre><p>反向DNS查询:</p><pre><code>$host IP\n</code></pre><h2 id="镜像下载" tabindex="-1"><a class="header-anchor" href="#镜像下载" aria-hidden="true">#</a> 镜像下载</h2><p>直接下载文件或者网页:</p><pre><code>wget url\n</code></pre><p>常用选项:</p><ul><li>--limit-rate :下载限速</li><li>-o：指定日志文件；输出都写入日志；</li><li>-c：断点续传</li></ul><h2 id="ftp-sftp-lftp-ssh" tabindex="-1"><a class="header-anchor" href="#ftp-sftp-lftp-ssh" aria-hidden="true">#</a> ftp sftp lftp ssh</h2><p>SSH登录:</p><pre><code>$ssh ID@host\n</code></pre><p>ssh登录远程服务器host，ID为用户名。</p><p>ftp/sftp文件传输:</p><pre><code>$sftp ID@host\n</code></pre><p>登录服务器host，ID为用户名。sftp登录后，可以使用下面的命令进一步操作：</p><ul><li>get filename # 下载文件</li><li>put filename # 上传文件</li><li>ls # 列出host上当前路径的所有文件</li><li>cd # 在host上更改当前路径</li><li>lls # 列出本地主机上当前路径的所有文件</li><li>lcd # 在本地主机更改当前路径</li></ul><p>lftp同步文件夹(类似rsync工具):</p><pre><code>lftp -u user:pass host\nlftp user@host:~&gt; mirror -n\n</code></pre><h2 id="网络复制" tabindex="-1"><a class="header-anchor" href="#网络复制" aria-hidden="true">#</a> 网络复制</h2><p>将本地localpath指向的文件上传到远程主机的path路径:</p><pre><code>$scp localpath ID@host:path\n</code></pre><p>以ssh协议，遍历下载path路径下的整个文件系统，到本地的localpath:</p><pre><code>$scp -r ID@site:path localpath\n</code></pre><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>netstat lsof route ping host wget sftp scp</p>',49)],s={},n=(0,p(83744).Z)(s,[["render",function(e,t){return(0,r.wg)(),(0,r.iD)("div",null,a)}]])}}]);