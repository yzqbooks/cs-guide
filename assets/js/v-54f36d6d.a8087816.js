"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[42532],{33654:(n,s,t)=>{t.r(s),t.d(s,{data:()=>a});const a=JSON.parse('{"key":"v-54f36d6d","path":"/frontend/basic-js/create-event.html","title":"创建自定义事件","lang":"zh-CN","frontmatter":{"summary":"创建自定义事件 基本事件 customEvent","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/frontend/basic-js/create-event.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"创建自定义事件"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-05-24T22:42:20.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-05-24T22:42:20.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"基本事件","slug":"基本事件","children":[]},{"level":2,"title":"customEvent","slug":"customevent","children":[]}],"git":{"createdTime":1650201329000,"updatedTime":1653432140000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":2}]},"readingTime":{"minutes":0.43,"words":129},"filePathRelative":"frontend/basic-js/create-event.md","localizedDate":"2022年4月17日"}')},83267:(n,s,t)=>{t.r(s),t.d(s,{default:()=>_});var a=t(66252);const e=(0,a._)("h1",{id:"创建自定义事件",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#创建自定义事件","aria-hidden":"true"},"#"),(0,a.Uk)(" 创建自定义事件")],-1),o=(0,a._)("h2",{id:"基本事件",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#基本事件","aria-hidden":"true"},"#"),(0,a.Uk)(" 基本事件")],-1),c=(0,a._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,a._)("pre",{class:"language-html"},[(0,a._)("code",null,[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("button")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"id"),(0,a._)("span",{class:"token attr-value"},[(0,a._)("span",{class:"token punctuation attr-equals"},"="),(0,a._)("span",{class:"token punctuation"},"'"),(0,a.Uk)("btn"),(0,a._)("span",{class:"token punctuation"},"'")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("点击我"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("button")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("div")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"id"),(0,a._)("span",{class:"token attr-value"},[(0,a._)("span",{class:"token punctuation attr-equals"},"="),(0,a._)("span",{class:"token punctuation"},"'"),(0,a.Uk)("div1"),(0,a._)("span",{class:"token punctuation"},"'")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("这是一个div"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("div")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),l=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"language-javascript"},[(0,a._)("code",null,[(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"let"),(0,a.Uk)(" ev "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"new"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"Event"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},'"look"'),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a._)("span",{class:"token string-property property"},'"bubbles"'),(0,a._)("span",{class:"token operator"},":"),(0,a._)("span",{class:"token boolean"},"true"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token string-property property"},'"cancelable"'),(0,a._)("span",{class:"token operator"},":"),(0,a._)("span",{class:"token boolean"},"false"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\ndocument"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"getElementById"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'div1'"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"addEventListener"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},'"look"'),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token parameter"},"e"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n "),(0,a._)("span",{class:"token function"},"alert"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token string"},"look事件触发了! "),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\ndocument"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"getElementById"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},'"btn"'),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"addEventListener"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token string"},'"click"'),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"function"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token comment"},"// 派发事件"),(0,a.Uk)("\n  document"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"getElementById"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'div1'"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"dispatchEvent"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("ev"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),p=(0,a._)("h2",{id:"customevent",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#customevent","aria-hidden":"true"},"#"),(0,a.Uk)(" customEvent")],-1),i=(0,a._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,a._)("pre",{class:"language-html"},[(0,a._)("code",null,[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("button")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"id"),(0,a._)("span",{class:"token attr-value"},[(0,a._)("span",{class:"token punctuation attr-equals"},"="),(0,a._)("span",{class:"token punctuation"},"'"),(0,a.Uk)("btn"),(0,a._)("span",{class:"token punctuation"},"'")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("点击我"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("button")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"})])],-1),u=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"language-javascript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token comment"},"// 创建事件"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"let"),(0,a.Uk)(" myEvent "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"new"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"CustomEvent"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},'"pingan"'),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n "),(0,a._)("span",{class:"token literal-property property"},"detail"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(),(0,a._)("span",{class:"token literal-property property"},"name"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},'"wangpingan"'),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token comment"},"// 添加适当的事件监听器"),(0,a.Uk)("\nwindow"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"addEventListener"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},'"pingan"'),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token parameter"},"e"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n "),(0,a._)("span",{class:"token function"},"alert"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token string"},"pingan事件触发，是 "),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a.Uk)("e"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("detail"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("name"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token string"}," 触发。"),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\ndocument"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"getElementById"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},'"btn"'),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"addEventListener"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token string"},'"click"'),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"function"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token comment"},"// 派发事件"),(0,a.Uk)("\n  window"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"dispatchEvent"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("myEvent"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),k={},_=(0,t(83744).Z)(k,[["render",function(n,s){const t=(0,a.up)("CodeDemo");return(0,a.wg)(),(0,a.iD)("div",null,[e,o,(0,a.Wm)(t,{id:"code-demo-cc26b078",type:"normal",code:"%7B%22html%22%3A%22%3Cbutton%20id%3D'btn'%3E%E7%82%B9%E5%87%BB%E6%88%91%3C%2Fbutton%3E%5Cn%3Cdiv%20id%3D'div1'%3E%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AAdiv%3C%2Fdiv%3E%5Cn%22%2C%22js%22%3A%22%5Cnlet%20ev%20%3D%20new%20Event(%5C%22look%5C%22%2C%20%7B%5C%22bubbles%5C%22%3Atrue%2C%20%5C%22cancelable%5C%22%3Afalse%7D)%3B%5Cndocument.getElementById('div1').addEventListener(%5C%22look%5C%22%2C%20e%20%3D%3E%20%7B%5Cn%20alert(%60look%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E4%BA%86!%20%60)%3B%5Cn%7D)%3B%5Cndocument.getElementById(%5C%22btn%5C%22).addEventListener(%5Cn%20%20%5C%22click%5C%22%2C%20function%20()%20%7B%5Cn%20%20%20%20%2F%2F%20%E6%B4%BE%E5%8F%91%E4%BA%8B%E4%BB%B6%5Cn%20%20document.getElementById('div1').dispatchEvent(ev)%3B%5Cn%20%20%7D%5Cn)%5Cn%22%7D"},{default:(0,a.w5)((()=>[c,l])),_:1}),p,(0,a.Wm)(t,{id:"code-demo-5aeb3f3c",type:"normal",code:"%7B%22html%22%3A%22%3Cbutton%20id%3D'btn'%3E%E7%82%B9%E5%87%BB%E6%88%91%3C%2Fbutton%3E%5Cn%22%2C%22js%22%3A%22%2F%2F%20%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6%5Cnlet%20myEvent%20%3D%20new%20CustomEvent(%5C%22pingan%5C%22%2C%20%7B%5Cn%20detail%3A%20%7B%20name%3A%20%5C%22wangpingan%5C%22%20%7D%5Cn%7D)%3B%5Cn%5Cn%2F%2F%20%E6%B7%BB%E5%8A%A0%E9%80%82%E5%BD%93%E7%9A%84%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8%5Cnwindow.addEventListener(%5C%22pingan%5C%22%2C%20e%20%3D%3E%20%7B%5Cn%20alert(%60pingan%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%EF%BC%8C%E6%98%AF%20%24%7Be.detail.name%7D%20%E8%A7%A6%E5%8F%91%E3%80%82%60)%3B%5Cn%7D)%3B%5Cndocument.getElementById(%5C%22btn%5C%22).addEventListener(%5Cn%20%20%5C%22click%5C%22%2C%20function%20()%20%7B%5Cn%20%20%20%20%2F%2F%20%E6%B4%BE%E5%8F%91%E4%BA%8B%E4%BB%B6%5Cn%20%20window.dispatchEvent(myEvent)%3B%5Cn%20%20%7D%5Cn)%5Cn%22%7D"},{default:(0,a.w5)((()=>[i,u])),_:1})])}]])}}]);