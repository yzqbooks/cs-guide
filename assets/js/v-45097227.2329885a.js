"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[47289],{17941:(e,s,a)=>{a.r(s),a.d(s,{data:()=>n});const n=JSON.parse('{"key":"v-45097227","path":"/linux-tutor/base/09_system_manage.html","title":"系统管理及IPC资源管理","lang":"zh-CN","frontmatter":{"order":9,"summary":"系统管理及IPC资源管理 系统管理 查询系统版本 查看Linux系统版本: 查看Unix系统版本：操作系统版本: 查询硬件信息 查看CPU使用情况: 查询CPU信息: 查看CPU的核的个数: 查看内存信息: 显示内存page大小（以KByte为单位）: 显示架构: 设置系统时间 显示当前系统时间: 设置系统日期和时间(格式为2014-09-15 17:05:","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/linux-tutor/base/09_system_manage.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"系统管理及IPC资源管理"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-05-26T17:48:57.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-05-26T17:48:57.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"系统管理","slug":"系统管理","children":[{"level":3,"title":"查询系统版本","slug":"查询系统版本","children":[]},{"level":3,"title":"查询硬件信息","slug":"查询硬件信息","children":[]},{"level":3,"title":"设置系统时间","slug":"设置系统时间","children":[]}]},{"level":2,"title":"IPC资源管理","slug":"ipc资源管理","children":[{"level":3,"title":"IPC资源查询","slug":"ipc资源查询","children":[]},{"level":3,"title":"检测和设置系统资源限制","slug":"检测和设置系统资源限制","children":[]}]},{"level":2,"title":"总结","slug":"总结","children":[]}],"git":{"createdTime":1653565176000,"updatedTime":1653587337000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":2}]},"readingTime":{"minutes":1.72,"words":516},"filePathRelative":"linux-tutor/base/09_system_manage.md","localizedDate":"2022年5月26日"}')},71965:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var n=a(66252);const i=[(0,n.uE)('<h1 id="系统管理及ipc资源管理" tabindex="-1"><a class="header-anchor" href="#系统管理及ipc资源管理" aria-hidden="true">#</a> 系统管理及IPC资源管理</h1><h2 id="系统管理" tabindex="-1"><a class="header-anchor" href="#系统管理" aria-hidden="true">#</a> 系统管理</h2><h3 id="查询系统版本" tabindex="-1"><a class="header-anchor" href="#查询系统版本" aria-hidden="true">#</a> 查询系统版本</h3><p>查看Linux系统版本:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">uname</span> -a\nlsb_release -a\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查看Unix系统版本：操作系统版本:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">more</span> /etc/release\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查询硬件信息" tabindex="-1"><a class="header-anchor" href="#查询硬件信息" aria-hidden="true">#</a> 查询硬件信息</h3><p>查看CPU使用情况:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>sar -u <span class="token number">5</span> <span class="token number">10</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询CPU信息:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">cat</span> /proc/cpuinfo\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看CPU的核的个数:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> processor <span class="token operator">|</span> <span class="token function">wc</span> -l\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看内存信息:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> /proc/meminfo\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>显示内存page大小（以KByte为单位）:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>pagesize\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>显示架构:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>arch\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置系统时间" tabindex="-1"><a class="header-anchor" href="#设置系统时间" aria-hidden="true">#</a> 设置系统时间</h3><p>显示当前系统时间:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">date</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置系统日期和时间(格式为2014-09-15 17:05:00):</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">date</span> -s <span class="token number">2014</span>-09-15 <span class="token number">17</span>:05:00\n<span class="token function">date</span> -s <span class="token number">2014</span>-09-15\n<span class="token function">date</span> -s <span class="token number">17</span>:05:00\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置时区:</p><pre><code>选择时区信息。命令为：tzselect\n根据系统提示，选择相应的时区信息。\n</code></pre><p>强制把系统时间写入CMOS（这样，重启后时间也正确了）:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>clock -w\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>设置系统时间需要root用户权限.</p></div><p>格式化输出当前日期时间:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">date</span> +%Y%m%d.%H%M%S\n   <span class="token comment"># &gt;20150512.173821</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ipc资源管理" tabindex="-1"><a class="header-anchor" href="#ipc资源管理" aria-hidden="true">#</a> IPC资源管理</h2><h3 id="ipc资源查询" tabindex="-1"><a class="header-anchor" href="#ipc资源查询" aria-hidden="true">#</a> IPC资源查询</h3><p>查看系统使用的IPC资源:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipcs\n\n    ------ Shared Memory Segments --------\n    key        shmid      owner      perms      bytes      nattch     status      \n\n    ------ Semaphore Arrays --------\n    key        semid      owner      perms      nsems     \n    0x00000000 <span class="token number">229376</span>     weber      <span class="token number">600</span>        <span class="token number">1</span>         \n\n    ------ Message Queues --------\n    key        msqid      owner      perms      used-bytes   messages    \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看系统使用的IPC共享内存资源:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipcs -m\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看系统使用的IPC队列资源:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipcs -q\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看系统使用的IPC信号量资源:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipcs -s\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>应用示例：查看IPC资源被谁占用</p><p>有个IPCKEY：51036 ，需要查询其是否被占用；</p><ol><li></li></ol><pre><code>首先通过计算器将其转为十六进制:\n\n:   51036 -\\&gt; c75c\n</code></pre><ol start="2"><li>如果知道是被共享内存占用:</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipcs -m <span class="token operator">|</span> <span class="token function">grep</span> c75c\n        <span class="token comment"># 0x0000c75c 40403197   tdea3    666        536870912  2</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>如果不确定，则直接查找:</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipcs <span class="token operator">|</span> <span class="token function">grep</span> c75c\n        0x0000c75c <span class="token number">40403197</span>   tdea3    <span class="token number">666</span>        <span class="token number">536870912</span>  <span class="token number">2</span>\n        0x0000c75c <span class="token number">5079070</span>    tdea3    <span class="token number">666</span>        <span class="token number">4</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="检测和设置系统资源限制" tabindex="-1"><a class="header-anchor" href="#检测和设置系统资源限制" aria-hidden="true">#</a> 检测和设置系统资源限制</h3><p>显示当前所有的系统资源limit 信息:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">ulimit</span> – a\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>对生成的 core 文件的大小不进行限制:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">ulimit</span> – c unlimited\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>uname sar arch date ipcs ulimit</p>',57)],d={},l=(0,a(83744).Z)(d,[["render",function(e,s){return(0,n.wg)(),(0,n.iD)("div",null,i)}]])}}]);