"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[54512],{88200:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t=JSON.parse('{"key":"v-74e67759","path":"/java-tutor/stackoverflow/is-there-a-unique-android-device-id.html","title":"如何获取Android设备唯一ID？","lang":"zh-CN","frontmatter":{"summary":"如何获取Android设备唯一ID？ 问题 每一个android设备都有唯一ID吗？如果有？怎么用java最简单取得呢？ 回答1（最佳） 如何取得android唯一码？ 好处： 1.不需要特定权限.; 2.在99.5% Android装置（包括root过的）上，即API => 9，保证唯一性.; 3.重装app之后仍能取得相同唯一值.; 伪代码： 代码: 回","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/java-tutor/stackoverflow/is-there-a-unique-android-device-id.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"如何获取Android设备唯一ID？"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-03-22T11:07:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-03-22T11:07:21.000Z"}]]},"excerpt":"","headers":[{"level":3,"title":"问题","slug":"问题","children":[]},{"level":3,"title":"回答1（最佳）","slug":"回答1-最佳","children":[]},{"level":3,"title":"回答2","slug":"回答2","children":[]},{"level":3,"title":"回答3（需要有电话卡）","slug":"回答3-需要有电话卡","children":[]}],"git":{"createdTime":1647947241000,"updatedTime":1647947241000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":1}]},"readingTime":{"minutes":1.76,"words":529},"filePathRelative":"java-tutor/stackoverflow/is-there-a-unique-android-device-id.md","localizedDate":"2022年3月22日"}')},73429:(n,s,a)=>{a.r(s),a.d(s,{default:()=>l});var t=a(66252);const e=(0,t.uE)('<h1 id="如何获取android设备唯一id" tabindex="-1"><a class="header-anchor" href="#如何获取android设备唯一id" aria-hidden="true">#</a> 如何获取Android设备唯一ID？</h1><h3 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题</h3><p>每一个android设备都有唯一ID吗？如果有？怎么用java最简单取得呢？</p><h3 id="回答1-最佳" tabindex="-1"><a class="header-anchor" href="#回答1-最佳" aria-hidden="true">#</a> 回答1（最佳）</h3><p>如何取得android唯一码？</p><p>好处：</p><ul><li>1.不需要特定权限.</li><li>2.在99.5% Android装置（包括root过的）上，即API =&gt; 9，保证唯一性.</li><li>3.重装app之后仍能取得相同唯一值.</li></ul><p>伪代码：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>if API =&gt; 9/10: (99.5% of devices)\n\nreturn unique ID containing serial id (rooted devices may be different)\n\nelse\n\nreturn unique ID of build information (may overlap data - API &lt; 9)\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>代码:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\n<span class="token doc-comment comment">/**\n * Return pseudo unique ID\n * <span class="token keyword">@return</span> ID\n */</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getUniquePsuedoID</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// If all else fails, if the user does have lower than API 9 (lower</span>\n    <span class="token comment">// than Gingerbread), has reset their device or &#39;Secure.ANDROID_ID&#39;</span>\n    <span class="token comment">// returns &#39;null&#39;, then simply the ID returned will be solely based</span>\n    <span class="token comment">// off their Android device information. This is where the collisions</span>\n    <span class="token comment">// can happen.</span>\n    <span class="token comment">// Thanks http://www.pocketmagic.net/?p=1662!</span>\n    <span class="token comment">// Try not to use DISPLAY, HOST or ID - these items could change.</span>\n    <span class="token comment">// If there are collisions, there will be overlapping data</span>\n    <span class="token class-name">String</span> m_szDevIDShort <span class="token operator">=</span> <span class="token string">&quot;35&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>BOARD<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>BRAND<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>CPU_ABI<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>DEVICE<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>MANUFACTURER<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>PRODUCT<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// Thanks to @Roman SL!</span>\n    <span class="token comment">// http://stackoverflow.com/a/4789483/950427</span>\n    <span class="token comment">// Only devices with API &gt;= 9 have android.os.Build.SERIAL</span>\n    <span class="token comment">// http://developer.android.com/reference/android/os/Build.html#SERIAL</span>\n    <span class="token comment">// If a user upgrades software or roots their device, there will be a duplicate entry</span>\n    <span class="token class-name">String</span> serial <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n        serial <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span>Build</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;SERIAL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token comment">// Go ahead and return the serial for api =&gt; 9</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UUID</span><span class="token punctuation">(</span>m_szDevIDShort<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> serial<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// String needs to be initialized</span>\n        serial <span class="token operator">=</span> <span class="token string">&quot;serial&quot;</span><span class="token punctuation">;</span> <span class="token comment">// some value</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// Thanks @Joe!</span>\n    <span class="token comment">// http://stackoverflow.com/a/2853253/950427</span>\n    <span class="token comment">// Finally, combine the values we have found by using the UUID class to create a unique identifier</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UUID</span><span class="token punctuation">(</span>m_szDevIDShort<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> serial<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="回答2" tabindex="-1"><a class="header-anchor" href="#回答2" aria-hidden="true">#</a> 回答2</h3><p>好处：</p><ul><li>1.不需要特定权限.</li><li>2.在100% Android装置（包括root过的）上，保证唯一性.</li></ul><p>坏处</p><ul><li>1.重装app之后不能取得相同唯一值.</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> uniqueID <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PREF_UNIQUE_ID <span class="token operator">=</span> <span class="token string">&quot;PREF_UNIQUE_ID&quot;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">id</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>uniqueID <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token class-name">SharedPreferences</span> sharedPrefs <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getSharedPreferences</span><span class="token punctuation">(</span>\n                PREF_UNIQUE_ID<span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">.</span>MODE_PRIVATE<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        uniqueID <span class="token operator">=</span> sharedPrefs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>PREF_UNIQUE_ID<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>uniqueID <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            uniqueID <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">Editor</span> editor <span class="token operator">=</span> sharedPrefs<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            editor<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span>PREF_UNIQUE_ID<span class="token punctuation">,</span> uniqueID<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            editor<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> uniqueID<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="回答3-需要有电话卡" tabindex="-1"><a class="header-anchor" href="#回答3-需要有电话卡" aria-hidden="true">#</a> 回答3（需要有电话卡）</h3><p>好处： 1.重装app之后仍能取得相同唯一值.</p><p>代码：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token keyword">final</span> <span class="token class-name">TelephonyManager</span> tm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TelephonyManager</span><span class="token punctuation">)</span> <span class="token function">getBaseContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span>TELEPHONY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">final</span> <span class="token class-name">String</span> tmDevice<span class="token punctuation">,</span> tmSerial<span class="token punctuation">,</span> androidId<span class="token punctuation">;</span>\n    tmDevice <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> tm<span class="token punctuation">.</span><span class="token function">getDeviceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    tmSerial <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> tm<span class="token punctuation">.</span><span class="token function">getSimSerialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    androidId <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>provider<span class="token punctuation">.</span></span>Settings<span class="token punctuation">.</span>Secure</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>provider<span class="token punctuation">.</span></span>Settings<span class="token punctuation">.</span>Secure</span><span class="token punctuation">.</span>ANDROID_ID<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">UUID</span> deviceUuid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UUID</span><span class="token punctuation">(</span>androidId<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>tmDevice<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> tmSerial<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">String</span> deviceId <span class="token operator">=</span> deviceUuid<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>谨记：要取得以下权限</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>',23),p=(0,t.Uk)("stackoverflow链接： "),o={href:"http://stackoverflow.com/questions/2785485/is-there-a-unique-android-device-id",target:"_blank",rel:"noopener noreferrer"},c=(0,t.Uk)("http://stackoverflow.com/questions/2785485/is-there-a-unique-android-device-id"),i={},l=(0,a(83744).Z)(i,[["render",function(n,s){const a=(0,t.up)("ExternalLinkIcon");return(0,t.wg)(),(0,t.iD)("div",null,[e,(0,t._)("p",null,[p,(0,t._)("a",o,[c,(0,t.Wm)(a)])])])}]])}}]);