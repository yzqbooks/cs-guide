"use strict";(self.webpackChunkcs_guide=self.webpackChunkcs_guide||[]).push([[15409],{70482:(n,a,t)=>{t.r(a),t.d(a,{data:()=>s});const s=JSON.parse('{"key":"v-6a274b79","path":"/frontend/basic-js/clipboard-api.html","title":"剪切板api","lang":"zh-CN","frontmatter":{"summary":"剪切板api document.execCommand已经废弃了 推荐用clipboard 写入剪切板","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/frontend/basic-js/clipboard-api.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"剪切板api"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-05-24T22:42:20.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-05-24T22:42:20.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"写入剪切板","slug":"写入剪切板","children":[]}],"git":{"createdTime":1650201329000,"updatedTime":1653432140000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":2}]},"readingTime":{"minutes":0.43,"words":130},"filePathRelative":"frontend/basic-js/clipboard-api.md","localizedDate":"2022年4月17日"}')},4796:(n,a,t)=>{t.r(a),t.d(a,{default:()=>E});var s=t(66252);const e=(0,s._)("h1",{id:"剪切板api",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#剪切板api","aria-hidden":"true"},"#"),(0,s.Uk)(" 剪切板api")],-1),c={class:"custom-container tip"},o=(0,s._)("p",{class:"custom-container-title"},"提示",-1),l=(0,s._)("code",null,"document.execCommand",-1),i=(0,s.Uk)("已经废弃了"),u=(0,s._)("br",null,null,-1),p=(0,s.Uk)(" 推荐用"),k={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Clipboard_API",target:"_blank",rel:"noopener noreferrer"},r=(0,s.Uk)("clipboard"),_=(0,s._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,s._)("pre",{class:"language-html"},[(0,s._)("code",null,[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"<"),(0,s.Uk)("button")]),(0,s.Uk)(),(0,s._)("span",{class:"token special-attr"},[(0,s._)("span",{class:"token attr-name"},"onclick"),(0,s._)("span",{class:"token attr-value"},[(0,s._)("span",{class:"token punctuation attr-equals"},"="),(0,s._)("span",{class:"token punctuation"},"'"),(0,s._)("span",{class:"token value javascript language-javascript"},[(0,s._)("span",{class:"token function"},"run"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token punctuation"},")")]),(0,s._)("span",{class:"token punctuation"},"'")])]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("点击我(会把剪切板的内容复制到下面的div里面)"),(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"</"),(0,s.Uk)("button")]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("\n"),(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"<"),(0,s.Uk)("div")]),(0,s.Uk)(),(0,s._)("span",{class:"token attr-name"},"id"),(0,s._)("span",{class:"token attr-value"},[(0,s._)("span",{class:"token punctuation attr-equals"},"="),(0,s._)("span",{class:"token punctuation"},"'"),(0,s.Uk)("editor"),(0,s._)("span",{class:"token punctuation"},"'")]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("#editor"),(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"</"),(0,s.Uk)("div")]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("\n")])]),(0,s._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"})])],-1),d=(0,s._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,s._)("pre",{class:"language-javascript"},[(0,s._)("code",null,[(0,s._)("span",{class:"token keyword"},"function"),(0,s.Uk)(),(0,s._)("span",{class:"token function"},"run"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n    navigator"),(0,s._)("span",{class:"token punctuation"},"."),(0,s.Uk)("clipboard"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"readText"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"then"),(0,s._)("span",{class:"token punctuation"},"("),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token parameter"},"clipText"),(0,s.Uk)(),(0,s._)("span",{class:"token operator"},"=>"),(0,s.Uk)(" document"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"querySelector"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},'"#editor"'),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},"."),(0,s.Uk)("innerText "),(0,s._)("span",{class:"token operator"},"+="),(0,s.Uk)(" clipText"),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},";"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s.Uk)("\n\n")])]),(0,s._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"})])],-1),m=(0,s._)("h2",{id:"写入剪切板",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#写入剪切板","aria-hidden":"true"},"#"),(0,s.Uk)(" 写入剪切板")],-1),v=(0,s._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,s._)("pre",{class:"language-html"},[(0,s._)("code",null,[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"<"),(0,s.Uk)("button")]),(0,s.Uk)(),(0,s._)("span",{class:"token special-attr"},[(0,s._)("span",{class:"token attr-name"},"onclick"),(0,s._)("span",{class:"token attr-value"},[(0,s._)("span",{class:"token punctuation attr-equals"},"="),(0,s._)("span",{class:"token punctuation"},"'"),(0,s._)("span",{class:"token value javascript language-javascript"},[(0,s._)("span",{class:"token function"},"run"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token punctuation"},")")]),(0,s._)("span",{class:"token punctuation"},"'")])]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("点击我(会把下面的div里面复制到剪切板的)"),(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"</"),(0,s.Uk)("button")]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("\n"),(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"<"),(0,s.Uk)("div")]),(0,s.Uk)(),(0,s._)("span",{class:"token attr-name"},"id"),(0,s._)("span",{class:"token attr-value"},[(0,s._)("span",{class:"token punctuation attr-equals"},"="),(0,s._)("span",{class:"token punctuation"},"'"),(0,s.Uk)("editor"),(0,s._)("span",{class:"token punctuation"},"'")]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("复制我12345678"),(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token tag"},[(0,s._)("span",{class:"token punctuation"},"</"),(0,s.Uk)("div")]),(0,s._)("span",{class:"token punctuation"},">")]),(0,s.Uk)("\n")])]),(0,s._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"})])],-1),b=(0,s._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,s._)("pre",{class:"language-javascript"},[(0,s._)("code",null,[(0,s._)("span",{class:"token keyword"},"function"),(0,s.Uk)(),(0,s._)("span",{class:"token function"},"run"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n    navigator"),(0,s._)("span",{class:"token punctuation"},"."),(0,s.Uk)("clipboard"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"writeText"),(0,s._)("span",{class:"token punctuation"},"("),(0,s.Uk)("document"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"querySelector"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},'"#editor"'),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},"."),(0,s.Uk)("innerText"),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"then"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token keyword"},"function"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},"/*clipboard successfully set*/"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token function"},"alert"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},"'复制成功'"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s._)("span",{class:"token punctuation"},","),(0,s.Uk)(),(0,s._)("span",{class:"token keyword"},"function"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n     "),(0,s._)("span",{class:"token function"},"alert"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},"'复制失败'"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},"/*clipboard write failed*/"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s._)("span",{class:"token punctuation"},")"),(0,s._)("span",{class:"token punctuation"},";"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s.Uk)("\n\n\n")])]),(0,s._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"}),(0,s._)("div",{class:"line-number"})])],-1),g={},E=(0,t(83744).Z)(g,[["render",function(n,a){const t=(0,s.up)("ExternalLinkIcon"),g=(0,s.up)("CodeDemo");return(0,s.wg)(),(0,s.iD)("div",null,[e,(0,s._)("div",c,[o,(0,s._)("p",null,[l,i,u,p,(0,s._)("a",k,[r,(0,s.Wm)(t)])])]),(0,s.Wm)(g,{id:"code-demo-96c822d0",type:"normal",code:"%7B%22html%22%3A%22%3Cbutton%20onclick%3D'run()'%3E%E7%82%B9%E5%87%BB%E6%88%91(%E4%BC%9A%E6%8A%8A%E5%89%AA%E5%88%87%E6%9D%BF%E7%9A%84%E5%86%85%E5%AE%B9%E5%A4%8D%E5%88%B6%E5%88%B0%E4%B8%8B%E9%9D%A2%E7%9A%84div%E9%87%8C%E9%9D%A2)%3C%2Fbutton%3E%5Cn%3Cdiv%20id%3D'editor'%3E%23editor%3C%2Fdiv%3E%5Cn%22%2C%22js%22%3A%22function%20run%20()%7B%5Cn%20%20%20%20navigator.clipboard.readText().then(%5Cn%20%20clipText%20%3D%3E%20document.querySelector(%5C%22%23editor%5C%22).innerText%20%2B%3D%20clipText)%3B%5Cn%7D%5Cn%5Cn%22%7D"},{default:(0,s.w5)((()=>[_,d])),_:1}),m,(0,s.Wm)(g,{id:"code-demo-f9cded78",type:"normal",code:"%7B%22html%22%3A%22%3Cbutton%20onclick%3D'run()'%3E%E7%82%B9%E5%87%BB%E6%88%91(%E4%BC%9A%E6%8A%8A%E4%B8%8B%E9%9D%A2%E7%9A%84div%E9%87%8C%E9%9D%A2%E5%A4%8D%E5%88%B6%E5%88%B0%E5%89%AA%E5%88%87%E6%9D%BF%E7%9A%84)%3C%2Fbutton%3E%5Cn%3Cdiv%20id%3D'editor'%3E%E5%A4%8D%E5%88%B6%E6%88%9112345678%3C%2Fdiv%3E%5Cn%22%2C%22js%22%3A%22function%20run%20()%7B%5Cn%20%20%20%20navigator.clipboard.writeText(document.querySelector(%5C%22%23editor%5C%22).innerText).then(function()%20%7B%5Cn%20%20%2F*clipboard%20successfully%20set*%2F%5Cn%20%20alert('%E5%A4%8D%E5%88%B6%E6%88%90%E5%8A%9F')%5Cn%7D%2C%20function()%20%7B%5Cn%20%20%20%20%20alert('%E5%A4%8D%E5%88%B6%E5%A4%B1%E8%B4%A5')%5Cn%20%20%2F*clipboard%20write%20failed*%2F%5Cn%7D)%3B%5Cn%7D%5Cn%5Cn%5Cn%22%7D"},{default:(0,s.w5)((()=>[v,b])),_:1})])}]])}}]);