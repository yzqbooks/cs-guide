<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://yzqdev.github.io/cs-guide/cs-guide/linux-tutor/configs/common-shells.html"><meta property="og:site_name" content="cs-guide"><meta property="og:title" content="常用的shell"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-05-26T11:39:36.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-05-26T11:39:36.000Z"><link rel="icon" href="/cs-guide/images/cs-guide.webp"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><meta name="referrer" content="no-referrer"><link rel="stylesheet" href="//at.alicdn.com/t/font_3267094_1gli0nmxpsr.css"><link rel="manifest" href="/cs-guide/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/cs-guide/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/cs-guide/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>常用的shell | cs-guide</title><meta name="description" content="计算机科学教程">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/cs-guide/assets/css/styles.e9c3b039.css">
    <link rel="preload" href="/cs-guide/assets/js/runtime~app.8e642581.js" as="script"><link rel="preload" href="/cs-guide/assets/css/styles.e9c3b039.css" as="style"><link rel="preload" href="/cs-guide/assets/js/96333.c2804327.js" as="script"><link rel="preload" href="/cs-guide/assets/js/app.6cfcd2ad.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/cs-guide/" class="brand"><img class="logo" src="/cs-guide/ayaka.webp" alt="cs-guide"><!----><span class="site-name hide-in-pad">cs-guide</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/cs-guide/frontend/" class="nav-link" aria-label="前端教程"><span class="icon iconfont icon-html"></span>前端教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cs-guide/go-tutor/" class="nav-link" aria-label="go教程"><span class="icon iconfont icon-go"></span>go教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cs-guide/java-tutor/" class="nav-link" aria-label="java教程"><span class="icon iconfont icon-java"></span>java教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cs-guide/linux-tutor/" class="nav-link active" aria-label="linux教程"><span class="icon iconfont icon-linux"></span>linux教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cs-guide/python-tutor/" class="nav-link" aria-label="python教程"><span class="icon iconfont icon-python"></span>python教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cs-guide/csharp-tutor/" class="nav-link" aria-label="c#教程"><span class="icon iconfont icon-csharp"></span>c#教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cs-guide/windows-tutor/" class="nav-link" aria-label="windows"><span class="icon iconfont icon-windows"></span>windows<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cs-guide/mc-tutor/" class="nav-link" aria-label="mc教程"><span class="icon iconfont icon-game"></span>mc教程<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其他"><span class="title"><span class="icon iconfont icon-note"></span>其他</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="https://yzqbooks.github.io/think-in-java/" rel="noopener noreferrer" target="_blank" aria-label="java编程思想" class="nav-link"><span class="icon iconfont icon-java"></span>java编程思想<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://yzqdev.github.io/git-tutor" rel="noopener noreferrer" target="_blank" aria-label="git教程" class="nav-link"><span class="icon iconfont icon-git"></span>git教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://yzqdev.github.io/android-docs" rel="noopener noreferrer" target="_blank" aria-label="安卓教程" class="nav-link"><span class="icon iconfont icon-android"></span>安卓教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://yzqdev.github.io/node-docs" rel="noopener noreferrer" target="_blank" aria-label="node教程" class="nav-link"><span class="icon iconfont icon-node"></span>node教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://yzqbooks.github.io/wangdoc" rel="noopener noreferrer" target="_blank" aria-label="wandoc" class="nav-link"><span class="icon iconfont icon-read"></span>wandoc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://yzqdev.github.io/cg-tutor" rel="noopener noreferrer" target="_blank" aria-label="cg教程" class="nav-link"><span class="icon iconfont icon-blender"></span>cg教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/yzqdev/cs-guide" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div id="docsearch-container"></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Linux基础</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">linux技巧</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">linux教程</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">一些工具</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">一些很有用的shell</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">常见的问题</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">配置文件</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/cs-guide/linux-tutor/configs/" class="nav-link sidebar-link sidebar-page" aria-label="配置文件"><!---->配置文件<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-guide/linux-tutor/configs/mysql-1g.html" class="nav-link sidebar-link sidebar-page" aria-label="mysql配置"><!---->mysql配置<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cs-guide/linux-tutor/configs/nginx.html" class="nav-link sidebar-link sidebar-page" aria-label="nginx配置"><!---->nginx配置<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="常用的shell"><!---->常用的shell<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#crontab-redis-restart" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="crontab-redis-restart"><!---->crontab-redis-restart<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#crontab-test" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="crontab-test"><!---->crontab-test<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#file" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="file"><!---->file<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-tool-centos" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_common_tool_CentOS"><!---->install_common_tool_CentOS<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-tool-ubuntu" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_common_tool_ubuntu"><!---->install_common_tool_ubuntu<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-vim" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_common_vim"><!---->install_common_vim<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-vim-zsh" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_common_vim_zsh"><!---->install_common_vim_zsh<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_docker_centos7"><!---->install_docker_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-disable-firewalld-centos7-aliyun" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_docker_disable_firewalld_centos7-aliyun"><!---->install_docker_disable_firewalld_centos7-aliyun<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-disable-firewalld-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_docker_disable_firewalld_centos7"><!---->install_docker_disable_firewalld_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-k8s-disable-firewalld-centos7-aliyun" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_docker_k8s_disable_firewalld_centos7-aliyun"><!---->install_docker_k8s_disable_firewalld_centos7-aliyun<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-jdk-offline-to-bash" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_jdk_offline_to_bash"><!---->install_jdk_offline_to_bash<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-jdk-offline-to-zsh" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_jdk_offline_to_zsh"><!---->install_jdk_offline_to_zsh<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-jdk-online" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_jdk_online"><!---->install_jdk_online<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-maven-offline-to-bash" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_maven_offline_to_bash"><!---->install_maven_offline_to_bash<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-maven-offline-to-zsh" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_maven_offline_to_zsh"><!---->install_maven_offline_to_zsh<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mycat-offline" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_mycat_offline"><!---->install_mycat_offline<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mysql5-6-offline-centos6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_mysql5.6_offline_centos6"><!---->install_mysql5.6_offline_centos6<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mysql5-6-offline-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_mysql5.6_offline_centos7"><!---->install_mysql5.6_offline_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mysql5-7-offline-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_mysql5.7_offline_centos7"><!---->install_mysql5.7_offline_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-nginx-centos6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_nginx_centos6"><!---->install_nginx_centos6<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-nginx-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_nginx_centos7"><!---->install_nginx_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-redis-centos6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_redis_centos6"><!---->install_redis_centos6<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-redis-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_redis_centos7"><!---->install_redis_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-tomcat-centos6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_tomcat_centos6"><!---->install_tomcat_centos6<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-tomcat-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_tomcat_centos7"><!---->install_tomcat_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-tomcat-offline-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="install_tomcat_offline_centos7"><!---->install_tomcat_offline_centos7<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#mysql-backup" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="mysql_backup"><!---->mysql_backup<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#repo-install-centos6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="repo_install_centos6"><!---->repo_install_centos6<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#shell-for" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="shell-for"><!---->shell-for<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#shell-with-param-demo" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="shell-with-param-demo"><!---->shell-with-param-demo<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">高级技巧</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->常用的shell</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" localizeddate="2022年5月26日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="http://www.yzqdev.top" target="_blank" rel="noopener noreferrer">yzqdev</a></span><span property="author" content="yzqdev"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年5月26日</span><meta property="datePublished" content="2022-05-26T11:39:36.000Z"></span><!----><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" localizeddate="2022年5月26日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>小于 1 分钟</span><meta property="timeRequired" content="PT1M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#crontab-redis-restart" class="router-link-active router-link-exact-active toc-link level2">crontab-redis-restart</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#crontab-test" class="router-link-active router-link-exact-active toc-link level2">crontab-test</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#file" class="router-link-active router-link-exact-active toc-link level2">file</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-tool-centos" class="router-link-active router-link-exact-active toc-link level2">install_common_tool_CentOS</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-tool-ubuntu" class="router-link-active router-link-exact-active toc-link level2">install_common_tool_ubuntu</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-vim" class="router-link-active router-link-exact-active toc-link level2">install_common_vim</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-common-vim-zsh" class="router-link-active router-link-exact-active toc-link level2">install_common_vim_zsh</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-centos7" class="router-link-active router-link-exact-active toc-link level2">install_docker_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-disable-firewalld-centos7-aliyun" class="router-link-active router-link-exact-active toc-link level2">install_docker_disable_firewalld_centos7-aliyun</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-disable-firewalld-centos7" class="router-link-active router-link-exact-active toc-link level2">install_docker_disable_firewalld_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-docker-k8s-disable-firewalld-centos7-aliyun" class="router-link-active router-link-exact-active toc-link level2">install_docker_k8s_disable_firewalld_centos7-aliyun</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-jdk-offline-to-bash" class="router-link-active router-link-exact-active toc-link level2">install_jdk_offline_to_bash</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-jdk-offline-to-zsh" class="router-link-active router-link-exact-active toc-link level2">install_jdk_offline_to_zsh</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-jdk-online" class="router-link-active router-link-exact-active toc-link level2">install_jdk_online</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-maven-offline-to-bash" class="router-link-active router-link-exact-active toc-link level2">install_maven_offline_to_bash</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-maven-offline-to-zsh" class="router-link-active router-link-exact-active toc-link level2">install_maven_offline_to_zsh</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mycat-offline" class="router-link-active router-link-exact-active toc-link level2">install_mycat_offline</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mysql5-6-offline-centos6" class="router-link-active router-link-exact-active toc-link level2">install_mysql5.6_offline_centos6</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mysql5-6-offline-centos7" class="router-link-active router-link-exact-active toc-link level2">install_mysql5.6_offline_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-mysql5-7-offline-centos7" class="router-link-active router-link-exact-active toc-link level2">install_mysql5.7_offline_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-nginx-centos6" class="router-link-active router-link-exact-active toc-link level2">install_nginx_centos6</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-nginx-centos7" class="router-link-active router-link-exact-active toc-link level2">install_nginx_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-redis-centos6" class="router-link-active router-link-exact-active toc-link level2">install_redis_centos6</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-redis-centos7" class="router-link-active router-link-exact-active toc-link level2">install_redis_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-tomcat-centos6" class="router-link-active router-link-exact-active toc-link level2">install_tomcat_centos6</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-tomcat-centos7" class="router-link-active router-link-exact-active toc-link level2">install_tomcat_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#install-tomcat-offline-centos7" class="router-link-active router-link-exact-active toc-link level2">install_tomcat_offline_centos7</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#mysql-backup" class="router-link-active router-link-exact-active toc-link level2">mysql_backup</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#repo-install-centos6" class="router-link-active router-link-exact-active toc-link level2">repo_install_centos6</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#shell-for" class="router-link-active router-link-exact-active toc-link level2">shell-for</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cs-guide/linux-tutor/configs/common-shells.html#shell-with-param-demo" class="router-link-active router-link-exact-active toc-link level2">shell-with-param-demo</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="常用的shell" tabindex="-1"><a class="header-anchor" href="#常用的shell" aria-hidden="true">#</a> 常用的shell</h1><h2 id="crontab-redis-restart" tabindex="-1"><a class="header-anchor" href="#crontab-redis-restart" aria-hidden="true">#</a> crontab-redis-restart</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

redis-cli -h <span class="token number">127.0</span>.0.1 -p <span class="token number">6379</span> -a <span class="token number">123456789</span> <span class="token function">shutdown</span>

<span class="token function">sleep</span> 5s

/usr/local/bin/redis-server /etc/redis.conf


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="crontab-test" tabindex="-1"><a class="header-anchor" href="#crontab-test" aria-hidden="true">#</a> crontab-test</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token assign-left variable">time1</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span><span class="token variable">)</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${time1}</span>&quot;</span> <span class="token operator">&gt;&gt;</span> /opt/1.txt

<span class="token function">sleep</span> 5s

<span class="token assign-left variable">time2</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span><span class="token variable">)</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${time2}</span>&quot;</span> <span class="token operator">&gt;&gt;</span> /opt/1.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="file" tabindex="-1"><a class="header-anchor" href="#file" aria-hidden="true">#</a> file</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">import</span> fs from <span class="token string">&quot;fs&quot;</span><span class="token punctuation">;</span>

fs.readdir<span class="token punctuation">(</span><span class="token string">&quot;./&quot;</span>, <span class="token keyword">function</span> <span class="token punctuation">(</span>err, files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console.log<span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span>, err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>let item of files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin class-name">let</span> str <span class="token operator">=</span> <span class="token variable"><span class="token variable">`</span><span class="token comment">## ${item}</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
      arr.push<span class="token punctuation">(</span>str.slice<span class="token punctuation">(</span><span class="token number">0</span>, str.length - <span class="token number">3</span><span class="token punctuation">)</span> + <span class="token variable"><span class="token variable">`</span><span class="token punctuation">\</span>n<span class="token variable">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      arr.push<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>@<span class="token punctuation">[</span>code shell<span class="token punctuation">]</span><span class="token punctuation">(</span>./shells/$<span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">\</span>n<span class="token punctuation">\</span>n<span class="token variable">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console.log<span class="token punctuation">(</span>arr.join<span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
    fs.writeFileSync<span class="token punctuation">(</span><span class="token string">&quot;a.md&quot;</span>, arr.join<span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-common-tool-centos" tabindex="-1"><a class="header-anchor" href="#install-common-tool-centos" aria-hidden="true">#</a> install_common_tool_CentOS</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始常用工具安装&quot;</span>

yum <span class="token function">install</span> -y <span class="token function">zip</span> <span class="token function">unzip</span> lrzsz <span class="token function">git</span> epel-release <span class="token function">wget</span> <span class="token function">htop</span> deltarpm

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始常用工具结束&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-common-tool-ubuntu" tabindex="-1"><a class="header-anchor" href="#install-common-tool-ubuntu" aria-hidden="true">#</a> install_common_tool_ubuntu</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始常用工具安装&quot;</span>

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y <span class="token function">zip</span> <span class="token function">unzip</span> <span class="token function">unrar</span> lrzsz <span class="token function">git</span> <span class="token function">wget</span> <span class="token function">htop</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始常用工具结束&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-common-vim" tabindex="-1"><a class="header-anchor" href="#install-common-vim" aria-hidden="true">#</a> install_common_vim</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始常用工具安装&quot;</span>
yum <span class="token function">install</span> -y <span class="token function">zip</span> <span class="token function">unzip</span> lrzsz <span class="token function">git</span> epel-release

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始安装 vim&quot;</span>
yum <span class="token function">install</span> -y <span class="token function">vim</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------设置 vim 配置&quot;</span>
<span class="token function">curl</span> https://raw.githubusercontent.com/wklken/vim-for-server/master/vimrc <span class="token operator">&gt;</span> ~/.vimrc

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-common-vim-zsh" tabindex="-1"><a class="header-anchor" href="#install-common-vim-zsh" aria-hidden="true">#</a> install_common_vim_zsh</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------禁用防火墙&quot;</span>
systemctl stop firewalld.service
systemctl disable firewalld.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始常用工具安装&quot;</span>
yum <span class="token function">install</span> -y <span class="token function">zip</span> <span class="token function">unzip</span> lrzsz <span class="token function">git</span> epel-release

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始常用工具结束&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始安装 zsh&quot;</span>
yum <span class="token function">install</span> -y <span class="token function">zsh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始安装 oh-my-zsh&quot;</span>
<span class="token function">wget</span> https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O - <span class="token operator">|</span> <span class="token function">sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------设置默认终端为 oh-my-zsh&quot;</span>
chsh -s /bin/zsh root


<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始安装 vim&quot;</span>
yum <span class="token function">install</span> -y <span class="token function">vim</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------设置 vim 配置&quot;</span>
<span class="token function">curl</span> https://raw.githubusercontent.com/wklken/vim-for-server/master/vimrc <span class="token operator">&gt;</span> ~/.vimrc

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-docker-centos7" tabindex="-1"><a class="header-anchor" href="#install-docker-centos7" aria-hidden="true">#</a> install_docker_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 docker 所需环境&quot;</span>

yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2

<span class="token builtin class-name">echo</span> <span class="token string">&quot;添加 repo（可能网络会很慢，有时候会报：Timeout，所以要多试几次）&quot;</span>

yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
yum makecache fast

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始安装 docker&quot;</span>

yum <span class="token function">install</span> -y docker-ce

<span class="token builtin class-name">echo</span> <span class="token string">&quot;启动 Docker&quot;</span>

systemctl start docker.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装结束&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;运行 hello world 镜像&quot;</span>

<span class="token function">docker</span> run hello-world


<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 docker compose&quot;</span>

<span class="token function">curl</span> -L https://github.com/docker/compose/releases/download/1.18.0/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -s<span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -m<span class="token variable">`</span></span> -o /usr/local/bin/docker-compose

<span class="token function">chmod</span> +x /usr/local/bin/docker-compose

<span class="token builtin class-name">echo</span> <span class="token string">&quot;输出 docker compose 版本号&quot;</span>

<span class="token function">docker-compose</span> --version
systemctl restart docker.service
systemctl <span class="token builtin class-name">enable</span> docker.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-docker-disable-firewalld-centos7-aliyun" tabindex="-1"><a class="header-anchor" href="#install-docker-disable-firewalld-centos7-aliyun" aria-hidden="true">#</a> install_docker_disable_firewalld_centos7-aliyun</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------禁用防火墙&quot;</span>
systemctl stop firewalld.service
systemctl disable firewalld.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装 docker 所需环境&quot;</span>

yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------添加 repo（可能网络会很慢，有时候会报：Timeout，所以要多试几次）&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------官网的地址 yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------这里用阿里云进行加速，不然可能会出现无法安装，阿里云官网说明：https://help.aliyun.com/document_detail/60742.html&quot;</span>

yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
yum makecache fast

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始安装 docker&quot;</span>

yum <span class="token function">install</span> -y docker-ce

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------启动 Docker&quot;</span>

systemctl start docker.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装结束&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------docker 加速&quot;</span>

<span class="token function">touch</span> /etc/docker/daemon.json

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> /etc/docker/daemon.json</span>
{
  &quot;registry-mirrors&quot;: [&quot;https://ldhc17y9.mirror.aliyuncs.com&quot;]
}
EOF</span>

systemctl daemon-reload
systemctl restart <span class="token function">docker</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------运行 hello world 镜像&quot;</span>

<span class="token function">docker</span> run hello-world

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装 docker compose&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;docker compose 的版本检查：https://docs.docker.com/compose/install/#install-compose&quot;</span>

<span class="token function">curl</span> -L <span class="token string">&quot;https://github.com/docker/compose/releases/download/1.23.1/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>&quot;</span> -o /usr/local/bin/docker-compose

<span class="token function">chmod</span> +x /usr/local/bin/docker-compose

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------输出 docker compose 版本号&quot;</span>

<span class="token function">docker-compose</span> --version




</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-docker-disable-firewalld-centos7" tabindex="-1"><a class="header-anchor" href="#install-docker-disable-firewalld-centos7" aria-hidden="true">#</a> install_docker_disable_firewalld_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------禁用防火墙&quot;</span>
systemctl stop firewalld.service
systemctl disable firewalld.service


<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装 docker 所需环境&quot;</span>

yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------添加 repo（可能网络会很慢，有时候会报：Timeout，所以要多试几次）&quot;</span>

yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
yum makecache fast

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始安装 docker&quot;</span>

yum <span class="token function">install</span> -y docker-ce

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------启动 Docker&quot;</span>

systemctl start docker.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装结束&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------运行 hello world 镜像&quot;</span>

<span class="token function">docker</span> run hello-world

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装 docker compose&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;docker compose 的版本检查：https://docs.docker.com/compose/install/#install-compose&quot;</span>

<span class="token function">curl</span> -L https://github.com/docker/compose/releases/download/1.21.2/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> -o /usr/local/bin/docker-compose

<span class="token function">chmod</span> +x /usr/local/bin/docker-compose

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------输出 docker compose 版本号&quot;</span>

<span class="token function">docker-compose</span> --version
systemctl restart docker.service
systemctl <span class="token builtin class-name">enable</span> docker.service



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-docker-k8s-disable-firewalld-centos7-aliyun" tabindex="-1"><a class="header-anchor" href="#install-docker-k8s-disable-firewalld-centos7-aliyun" aria-hidden="true">#</a> install_docker_k8s_disable_firewalld_centos7-aliyun</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------禁用防火墙&quot;</span>
systemctl stop firewalld.service
systemctl disable firewalld.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装 docker 所需环境&quot;</span>

yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------添加 repo（可能网络会很慢，有时候会报：Timeout，所以要多试几次）&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------官网的地址 yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------这里用阿里云进行加速，不然可能会出现无法安装，阿里云官网说明：https://help.aliyun.com/document_detail/60742.html&quot;</span>

yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
yum makecache fast

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------开始安装 docker&quot;</span>

yum <span class="token function">install</span> -y docker-ce-18.06.1.ce-3.el7

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------启动 Docker&quot;</span>

systemctl start docker.service
systemctl <span class="token builtin class-name">enable</span> docker.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------安装结束&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------docker 加速&quot;</span>

<span class="token function">touch</span> /etc/docker/daemon.json

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> /etc/docker/daemon.json</span>
{
  &quot;registry-mirrors&quot;: [&quot;https://ldhc17y9.mirror.aliyuncs.com&quot;]
}
EOF</span>

systemctl daemon-reload
systemctl restart <span class="token function">docker</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----------------------------------------运行 hello world 镜像&quot;</span>

<span class="token function">docker</span> run hello-world





</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-jdk-offline-to-bash" tabindex="-1"><a class="header-anchor" href="#install-jdk-offline-to-bash" aria-hidden="true">#</a> install_jdk_offline_to_bash</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断 JDK 压缩包是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/jdk-8u181-linux-x64.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 压缩包不存在&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始解压 JDK&quot;</span>
<span class="token builtin class-name">cd</span> /opt/setups <span class="token punctuation">;</span> <span class="token function">tar</span> -zxf jdk-8u181-linux-x64.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/jdk1.8.0_181&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 解压包移到 /usr/local/ 目录下&quot;</span>
<span class="token function">mv</span> jdk1.8.0_181/ /usr/local/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 写入系统变量到 profile&quot;</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> /etc/profile</span>

# JDK
JAVA_HOME=/usr/local/jdk1.8.0_181
JRE_HOME=\<span class="token variable">$JAVA_HOME</span>/jre
PATH=\<span class="token environment constant">$PATH</span>:\<span class="token variable">$JAVA_HOME</span>/bin
CLASSPATH=.:\<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:\<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
export JAVA_HOME
export JRE_HOME
export PATH
export CLASSPATH

EOF</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 设置完成，需要你手动设置：source /etc/profile&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-jdk-offline-to-zsh" tabindex="-1"><a class="header-anchor" href="#install-jdk-offline-to-zsh" aria-hidden="true">#</a> install_jdk_offline_to_zsh</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断 JDK 压缩包是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/jdk-8u191-linux-x64.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 压缩包不存在&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始解压 JDK&quot;</span>
<span class="token builtin class-name">cd</span> /opt/setups <span class="token punctuation">;</span> <span class="token function">tar</span> -zxf jdk-8u191-linux-x64.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/jdk1.8.0_191&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 解压包移到 /usr/local/ 目录下&quot;</span>
<span class="token function">mv</span> jdk1.8.0_191/ /usr/local/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 写入系统变量到 zshrc&quot;</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> ~/.zshrc</span>

# JDK
JAVA_HOME=/usr/local/jdk1.8.0_191
JRE_HOME=\<span class="token variable">$JAVA_HOME</span>/jre
PATH=\<span class="token environment constant">$PATH</span>:\<span class="token variable">$JAVA_HOME</span>/bin
CLASSPATH=.:\<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:\<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
export JAVA_HOME
export JRE_HOME
export PATH
export CLASSPATH

EOF</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 设置完成，需要你手动设置：source ~/.zshrc&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-jdk-online" tabindex="-1"><a class="header-anchor" href="#install-jdk-online" aria-hidden="true">#</a> install_jdk_online</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/usr/program&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /usr/program
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载 JDK&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups
<span class="token function">wget</span> -c --header <span class="token string">&quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;</span> http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/jdk-8u151-linux-x64.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/jdk-8u151-linux-x64.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 下载失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 下载成功，开始解压 JDK&quot;</span>
<span class="token function">tar</span> -zxf jdk-8u151-linux-x64.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/jdk1.8.0_151&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 解压包移到 /usr/program/ 目录下&quot;</span>
<span class="token function">mv</span> jdk1.8.0_151/ /usr/program/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 写入系统变量到 zshrc&quot;</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> ~/.zshrc</span>

# JDK
JAVA_HOME=/usr/local/jdk1.8.0_151
JRE_HOME=\<span class="token variable">$JAVA_HOME</span>/jre
PATH=\<span class="token environment constant">$PATH</span>:\<span class="token variable">$JAVA_HOME</span>/bin
CLASSPATH=.:\<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:\<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
export JAVA_HOME
export JRE_HOME
export PATH
export CLASSPATH
EOF</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 设置完成，需要你手动设置：source ~/.zshrc&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-maven-offline-to-bash" tabindex="-1"><a class="header-anchor" href="#install-maven-offline-to-bash" aria-hidden="true">#</a> install_maven_offline_to_bash</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断 Maven 压缩包是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/apache-maven-3.5.4-bin.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 压缩包不存在&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始解压 Maven&quot;</span>
<span class="token builtin class-name">cd</span> /opt/setups <span class="token punctuation">;</span> <span class="token function">tar</span> -zxf apache-maven-3.5.4-bin.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/apache-maven-3.5.4&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 解压包移到 /usr/local/ 目录下&quot;</span>
<span class="token function">mv</span> apache-maven-3.5.4/ /usr/local/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 写入系统变量到 profile&quot;</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> /etc/profile</span>

# Maven
M3_HOME=/usr/local/apache-maven-3.5.4
MAVEN_HOME=/usr/local/apache-maven-3.5.4
PATH=\<span class="token environment constant">$PATH</span>:\<span class="token variable">$M3_HOME</span>/bin
MAVEN_OPTS=&quot;-Xms256m -Xmx356m&quot;
export M3_HOME
export MAVEN_HOME
export PATH
export MAVEN_OPTS

EOF</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 设置完成，需要你手动设置：source /etc/profile&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-maven-offline-to-zsh" tabindex="-1"><a class="header-anchor" href="#install-maven-offline-to-zsh" aria-hidden="true">#</a> install_maven_offline_to_zsh</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断 Maven 压缩包是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/apache-maven-3.5.4-bin.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 压缩包不存在&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始解压 Maven&quot;</span>
<span class="token builtin class-name">cd</span> /opt/setups <span class="token punctuation">;</span> <span class="token function">tar</span> -zxf apache-maven-3.5.4-bin.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/apache-maven-3.5.4&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 解压包移到 /usr/local/ 目录下&quot;</span>
<span class="token function">mv</span> apache-maven-3.5.4/ /usr/local/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 写入系统变量到 zshrc&quot;</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> ~/.zshrc</span>

# Maven
M3_HOME=/usr/local/apache-maven-3.5.4
MAVEN_HOME=/usr/local/apache-maven-3.5.4
PATH=\<span class="token environment constant">$PATH</span>:\<span class="token variable">$M3_HOME</span>/bin
MAVEN_OPTS=&quot;-Xms256m -Xmx356m&quot;
export M3_HOME
export MAVEN_HOME
export PATH
export MAVEN_OPTS

EOF</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;Maven 设置完成，需要你手动设置：source ~/.zshrc&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-mycat-offline" tabindex="-1"><a class="header-anchor" href="#install-mycat-offline" aria-hidden="true">#</a> install_mycat_offline</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断是否有 JDK 环境&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token variable">$JAVA_HOME</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;没有 JAVA_HOME 环境变量&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断 /opt 目录下 mycat 压缩包是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;mycat 压缩包是否存在不存在&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;解压压缩包&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups <span class="token punctuation">;</span> <span class="token function">tar</span> -zxf Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz

<span class="token builtin class-name">echo</span> <span class="token string">&quot;把解压后目录移到 /usr/local/ 目录下&quot;</span>
<span class="token function">mv</span> /opt/setups/mycat /usr/local/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;写入系统变量到 zshrc&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&#39;MYCAT_HOME=/usr/local/mycat&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.zshrc  
<span class="token builtin class-name">echo</span> <span class="token string">&#39;PATH=$PATH:$MYCAT_HOME/bin&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.zshrc  
<span class="token builtin class-name">echo</span> <span class="token string">&#39;export MYCAT_HOME&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.zshrc  
<span class="token builtin class-name">echo</span> <span class="token string">&#39;export PATH&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.zshrc
<span class="token builtin class-name">echo</span> <span class="token string">&quot;mycat 设置完成，需要你手动设置：source ~/.zshrc&quot;</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-mysql5-6-offline-centos6" tabindex="-1"><a class="header-anchor" href="#install-mysql5-6-offline-centos6" aria-hidden="true">#</a> install_mysql5.6_offline_centos6</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 mysql 开始&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups

<span class="token function">tar</span> zxvf mysql-5.6.35.tar.gz

<span class="token function">mv</span> /opt/setups/mysql-5.6.35 /usr/program/

yum <span class="token function">install</span> -y <span class="token function">make</span> gcc-c++ cmake bison-devel ncurses-devel

<span class="token builtin class-name">cd</span> /usr/program/mysql-5.6.35/

<span class="token function">mkdir</span> -p /usr/program/mysql/data

cmake -DCMAKE_INSTALL_PREFIX<span class="token operator">=</span>/usr/program/mysql -DMYSQL_DATADIR<span class="token operator">=</span>/usr/program/mysql/data -DMYSQL_UNIX_ADDR<span class="token operator">=</span>/tmp/mysql.sock -DDEFAULT_CHARSET<span class="token operator">=</span>utf8 -DDEFAULT_COLLATION<span class="token operator">=</span>utf8_general_ci -DWITH_EXTRA_CHARSETS:STRING<span class="token operator">=</span>utf8 -DWITH_MYISAM_STORAGE_ENGINE<span class="token operator">=</span><span class="token number">1</span> -DWITH_INNOBASE_STORAGE_ENGINE<span class="token operator">=</span><span class="token number">1</span> -DENABLED_LOCAL_INFILE<span class="token operator">=</span><span class="token number">1</span>

<span class="token function">make</span>

<span class="token function">make</span> <span class="token function">install</span>

<span class="token function">cp</span> /usr/program/mysql-5.6.35/support-files/mysql.server /etc/init.d/mysql

<span class="token function">chmod</span> <span class="token number">755</span> /etc/init.d/mysql

<span class="token function">chkconfig</span> mysql on

<span class="token function">cp</span> /usr/program/mysql-5.6.35/support-files/my-default.cnf /etc/my.cnf

<span class="token function">rm</span> -rf /usr/program/mysql-5.6.35/

<span class="token function">groupadd</span> mysql

<span class="token function">useradd</span> -g mysql mysql -s /bin/false

<span class="token function">chown</span> -R mysql:mysql /usr/program/mysql/data

/usr/program/mysql/scripts/mysql_install_db --basedir<span class="token operator">=</span>/usr/program/mysql --datadir<span class="token operator">=</span>/usr/program/mysql/data --skip-name-resolve --user<span class="token operator">=</span>mysql

<span class="token function">ln</span> -s /usr/program/mysql/bin/mysql /usr/bin

<span class="token function">ln</span> -s /usr/program/mysql/bin/mysqladmin /usr/bin

<span class="token function">ln</span> -s /usr/program/mysql/bin/mysqldump /usr/bin

<span class="token function">ln</span> -s /usr/program/mysql/bin/mysqlslap /usr/bin

iptables -I INPUT -p tcp -m tcp --dport <span class="token number">3306</span> -j ACCEPT

<span class="token function">service</span> iptables save

<span class="token function">service</span> iptables restart

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 mysql 结束，现在需要手动设置防火墙和禁用 selinux.&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-mysql5-6-offline-centos7" tabindex="-1"><a class="header-anchor" href="#install-mysql5-6-offline-centos7" aria-hidden="true">#</a> install_mysql5.6_offline_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 mysql 开始&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断 JDK 压缩包是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/mysql-5.6.35.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;mysql 压缩包不存在&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">cd</span> /opt/setups

<span class="token function">tar</span> zxvf mysql-5.6.35.tar.gz

<span class="token function">mv</span> /opt/setups/mysql-5.6.35 /usr/local/

yum <span class="token function">install</span> -y <span class="token function">make</span> gcc-c++ cmake bison-devel ncurses-devel autoconf 

<span class="token builtin class-name">cd</span> /usr/local/mysql-5.6.35/

<span class="token function">mkdir</span> -p /usr/local/mysql/data

cmake -DCMAKE_INSTALL_PREFIX<span class="token operator">=</span>/usr/local/mysql -DMYSQL_DATADIR<span class="token operator">=</span>/usr/local/mysql/data -DMYSQL_UNIX_ADDR<span class="token operator">=</span>/tmp/mysql.sock -DDEFAULT_CHARSET<span class="token operator">=</span>utf8 -DDEFAULT_COLLATION<span class="token operator">=</span>utf8_general_ci -DWITH_EXTRA_CHARSETS:STRING<span class="token operator">=</span>utf8 -DWITH_MYISAM_STORAGE_ENGINE<span class="token operator">=</span><span class="token number">1</span> -DWITH_INNOBASE_STORAGE_ENGINE<span class="token operator">=</span><span class="token number">1</span> -DENABLED_LOCAL_INFILE<span class="token operator">=</span><span class="token number">1</span>

<span class="token function">make</span>

<span class="token function">make</span> <span class="token function">install</span>

<span class="token function">cp</span> /usr/local/mysql-5.6.35/support-files/mysql.server /etc/init.d/mysql

<span class="token function">chmod</span> <span class="token number">755</span> /etc/init.d/mysql

<span class="token function">chkconfig</span> mysql on

<span class="token function">cp</span> /usr/local/mysql-5.6.35/support-files/my-default.cnf /etc/my.cnf

<span class="token function">rm</span> -rf /usr/local/mysql-5.6.35/

<span class="token function">groupadd</span> mysql

<span class="token function">useradd</span> -g mysql mysql -s /bin/false

<span class="token function">chown</span> -R mysql:mysql /usr/local/mysql/data

/usr/local/mysql/scripts/mysql_install_db --basedir<span class="token operator">=</span>/usr/local/mysql --datadir<span class="token operator">=</span>/usr/local/mysql/data --skip-name-resolve --user<span class="token operator">=</span>mysql

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysql /usr/bin

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysqladmin /usr/bin

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysqldump /usr/bin

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysqlslap /usr/bin

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 3306 端口&quot;</span>
systemctl restart firewalld.service
firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp --permanent
firewall-cmd --reload
systemctl stop firewalld.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 mysql 结束，现在需要手动设置防火墙和禁用 selinux.&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-mysql5-7-offline-centos7" tabindex="-1"><a class="header-anchor" href="#install-mysql5-7-offline-centos7" aria-hidden="true">#</a> install_mysql5.7_offline_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 mysql 开始&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;必须准备两个文件：mysql-5.7.21.tar.gz 和 boost_1_59_0.tar.gz&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;mysql 5.7 依赖 boost，官网说明：https://dev.mysql.com/doc/mysql-sourcebuild-excerpt/5.7/en/source-installation.html&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;boost 下载地址（79M）：http://www.boost.org/users/history/version_1_59_0.html&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/mysql-5.7.21.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;缺少 mysql-5.7.21.tar.gz 文件，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/boost_1_59_0.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;缺少 boost_1_59_0.tar.gz 文件，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">cd</span> /opt/setups

<span class="token function">tar</span> zxvf mysql-5.7.21.tar.gz

<span class="token function">mv</span> /opt/setups/mysql-5.7.21 /usr/local/

<span class="token function">tar</span> zxvf boost_1_59_0.tar.gz

<span class="token function">mv</span> /opt/setups/boost_1_59_0 /usr/local/

yum <span class="token function">install</span> -y <span class="token function">make</span> gcc-c++ cmake bison-devel ncurses-devel

<span class="token builtin class-name">cd</span> /usr/local/mysql-5.7.21/

<span class="token function">mkdir</span> -p /usr/local/mysql/data

cmake -DCMAKE_INSTALL_PREFIX<span class="token operator">=</span>/usr/local/mysql -DMYSQL_DATADIR<span class="token operator">=</span>/usr/local/mysql/data -DWITH_BOOST<span class="token operator">=</span>/usr/local/boost_1_59_0 -DMYSQL_UNIX_ADDR<span class="token operator">=</span>/tmp/mysql.sock -DDEFAULT_CHARSET<span class="token operator">=</span>utf8 -DDEFAULT_COLLATION<span class="token operator">=</span>utf8_general_ci -DWITH_EXTRA_CHARSETS:STRING<span class="token operator">=</span>utf8 -DWITH_MYISAM_STORAGE_ENGINE<span class="token operator">=</span><span class="token number">1</span> -DWITH_INNOBASE_STORAGE_ENGINE<span class="token operator">=</span><span class="token number">1</span> -DENABLED_LOCAL_INFILE<span class="token operator">=</span><span class="token number">1</span>

<span class="token function">make</span>

<span class="token function">make</span> <span class="token function">install</span>

<span class="token function">cp</span> /usr/local/mysql-5.7.21/support-files/mysql.server /etc/init.d/mysql

<span class="token function">chmod</span> <span class="token number">755</span> /etc/init.d/mysql

<span class="token function">chkconfig</span> mysql on

<span class="token builtin class-name">echo</span> <span class="token string">&quot;mysql 5.7 这个文件没了，需要自己创建一个&quot;</span>

<span class="token function">cp</span> /usr/local/mysql-5.7.21/support-files/my-default.cnf /etc/my.cnf

<span class="token function">rm</span> -rf /usr/local/mysql-5.7.21/

<span class="token function">groupadd</span> mysql

<span class="token function">useradd</span> -g mysql mysql -s /bin/false

<span class="token function">chown</span> -R mysql:mysql /usr/local/mysql/data

/usr/local/mysql/scripts/mysql_install_db --basedir<span class="token operator">=</span>/usr/local/mysql --datadir<span class="token operator">=</span>/usr/local/mysql/data --skip-name-resolve --user<span class="token operator">=</span>mysql

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysql /usr/bin

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysqladmin /usr/bin

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysqldump /usr/bin

<span class="token function">ln</span> -s /usr/local/mysql/bin/mysqlslap /usr/bin

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 3306 端口&quot;</span>
systemctl restart firewalld.service
firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp --permanent
firewall-cmd --reload
systemctl stop firewalld.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 mysql 结束，现在需要手动设置防火墙和禁用 selinux.&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-nginx-centos6" tabindex="-1"><a class="header-anchor" href="#install-nginx-centos6" aria-hidden="true">#</a> install_nginx_centos6</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 nginx&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/usr/program&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /usr/program
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/usr/local/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /usr/local/nginx
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/var/log/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /var/log/nginx
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/var/temp/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /var/temp/nginx
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/var/lock/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /var/lock/nginx
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载 Nginx&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups
<span class="token function">wget</span> https://nginx.org/download/nginx-1.12.2.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/nginx-1.12.2.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Nginx 下载失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Nginx 下载成功，开始解压 Nginx&quot;</span>
<span class="token function">tar</span> -zxf nginx-1.12.2.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/nginx-1.12.2&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Nginx 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装源码安装依赖&quot;</span>
yum <span class="token function">install</span> -y gcc gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始安装 Nginx&quot;</span>
<span class="token builtin class-name">cd</span> nginx-1.12.2/

./configure --prefix<span class="token operator">=</span>/usr/local/nginx --pid-path<span class="token operator">=</span>/var/local/nginx/nginx.pid --lock-path<span class="token operator">=</span>/var/lock/nginx/nginx.lock --error-log-path<span class="token operator">=</span>/var/log/nginx/error.log --http-log-path<span class="token operator">=</span>/var/log/nginx/access.log --with-http_gzip_static_module --http-client-body-temp-path<span class="token operator">=</span>/var/temp/nginx/client --http-proxy-temp-path<span class="token operator">=</span>/var/temp/nginx/proxy --http-fastcgi-temp-path<span class="token operator">=</span>/var/temp/nginx/fastcgi --http-uwsgi-temp-path<span class="token operator">=</span>/var/temp/nginx/uwsgi --with-http_ssl_module --http-scgi-temp-path<span class="token operator">=</span>/var/temp/nginx/scgi
<span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 80 端口&quot;</span>
iptables -I INPUT -p tcp -m tcp --dport <span class="token number">80</span> -j ACCEPT
<span class="token function">service</span> iptables save
<span class="token function">service</span> iptables restart

<span class="token builtin class-name">echo</span> <span class="token string">&quot;启动 Nginx&quot;</span>
/usr/local/nginx/sbin/nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-nginx-centos7" tabindex="-1"><a class="header-anchor" href="#install-nginx-centos7" aria-hidden="true">#</a> install_nginx_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 nginx&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/usr/local/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /usr/local/nginx
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/var/log/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /var/log/nginx
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/var/temp/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /var/temp/nginx
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/var/lock/nginx&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> -p /var/lock/nginx
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载 Nginx&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups
<span class="token function">wget</span> https://nginx.org/download/nginx-1.14.0.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/nginx-1.14.0.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Nginx 下载失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Nginx 下载成功，开始解压 Nginx&quot;</span>
<span class="token function">tar</span> -zxf nginx-1.14.0.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/nginx-1.14.0&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Nginx 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装源码安装依赖&quot;</span>
yum <span class="token function">install</span> -y gcc gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始安装 Nginx&quot;</span>
<span class="token builtin class-name">cd</span> nginx-1.14.0/

./configure --prefix<span class="token operator">=</span>/usr/local/nginx --pid-path<span class="token operator">=</span>/var/local/nginx/nginx.pid --lock-path<span class="token operator">=</span>/var/lock/nginx/nginx.lock --error-log-path<span class="token operator">=</span>/var/log/nginx/error.log --http-log-path<span class="token operator">=</span>/var/log/nginx/access.log --with-http_gzip_static_module --http-client-body-temp-path<span class="token operator">=</span>/var/temp/nginx/client --http-proxy-temp-path<span class="token operator">=</span>/var/temp/nginx/proxy --http-fastcgi-temp-path<span class="token operator">=</span>/var/temp/nginx/fastcgi --http-uwsgi-temp-path<span class="token operator">=</span>/var/temp/nginx/uwsgi --with-http_ssl_module --http-scgi-temp-path<span class="token operator">=</span>/var/temp/nginx/scgi
<span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 80 端口&quot;</span>
systemctl restart firewalld.service
firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp --permanent
firewall-cmd --reload
systemctl restart firewalld.service

<span class="token builtin class-name">echo</span> <span class="token string">&quot;启动 Nginx&quot;</span>
/usr/local/nginx/sbin/nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-redis-centos6" tabindex="-1"><a class="header-anchor" href="#install-redis-centos6" aria-hidden="true">#</a> install_redis_centos6</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 redis&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/usr/program&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /usr/program
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载 redis&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups
<span class="token function">wget</span> http://download.redis.io/releases/redis-4.0.6.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/redis-4.0.6.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;redis 下载失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;reids 下载成功&quot;</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装开始&quot;</span>

yum <span class="token function">install</span> -y gcc-c++ tcl

<span class="token builtin class-name">cd</span> /opt/setups

<span class="token function">tar</span> zxvf redis-4.0.6.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/redis-4.0.6&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;redis 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token function">mv</span> redis-4.0.6/ /usr/program/

<span class="token builtin class-name">cd</span> /usr/program/redis-4.0.6

<span class="token function">make</span>

<span class="token function">make</span> <span class="token function">install</span>

<span class="token function">cp</span> /usr/program/redis-4.0.6/redis.conf /etc/

<span class="token function">sed</span> -i <span class="token string">&#39;s/daemonize no/daemonize yes/g&#39;</span> /etc/redis.conf

<span class="token builtin class-name">echo</span> <span class="token string">&quot;/usr/local/bin/redis-server /etc/redis.conf&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/rc.local

iptables -I INPUT -p tcp -m tcp --dport <span class="token number">6379</span> -j ACCEPT

<span class="token function">service</span> iptables save

<span class="token function">service</span> iptables restart

<span class="token function">rm</span> -rf /usr/program/redis-4.0.6

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装结束&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-redis-centos7" tabindex="-1"><a class="header-anchor" href="#install-redis-centos7" aria-hidden="true">#</a> install_redis_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 redis&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载 redis&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups
<span class="token function">wget</span> http://download.redis.io/releases/redis-4.0.6.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/redis-4.0.6.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;redis 下载失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;reids 下载成功&quot;</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装开始&quot;</span>

yum <span class="token function">install</span> -y gcc-c++ tcl

<span class="token builtin class-name">cd</span> /opt/setups

<span class="token function">tar</span> zxvf redis-4.0.6.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/redis-4.0.6&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;redis 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token function">mv</span> redis-4.0.6/ /usr/local/

<span class="token builtin class-name">cd</span> /usr/local/redis-4.0.6

<span class="token function">make</span>

<span class="token function">make</span> <span class="token function">install</span>

<span class="token function">cp</span> /usr/local/redis-4.0.6/redis.conf /etc/

<span class="token function">sed</span> -i <span class="token string">&#39;s/daemonize no/daemonize yes/g&#39;</span> /etc/redis.conf

<span class="token builtin class-name">echo</span> <span class="token string">&quot;/usr/local/bin/redis-server /etc/redis.conf&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/rc.local

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 6379 端口&quot;</span>
firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">6379</span>/tcp --permanent
firewall-cmd --reload

<span class="token function">rm</span> -rf /usr/local/redis-4.0.6

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装结束&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-tomcat-centos6" tabindex="-1"><a class="header-anchor" href="#install-tomcat-centos6" aria-hidden="true">#</a> install_tomcat_centos6</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/usr/program&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /usr/program
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载 Tomcat&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups
<span class="token function">wget</span> http://mirror.bit.edu.cn/apache/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/apache-tomcat-8.0.47.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 下载失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 下载成功，开始解压 Tomcat&quot;</span>
<span class="token function">tar</span> -zxf apache-tomcat-8.0.47.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/apache-tomcat-8.0.47&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 解压包移到 /usr/program/ 目录下&quot;</span>
<span class="token function">mv</span> apache-tomcat-8.0.47/ /usr/program/
<span class="token function">mv</span> /usr/program/apache-tomcat-8.0.47/ /usr/program/tomcat8/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 8080 端口&quot;</span>
iptables -I INPUT -p tcp -m tcp --dport <span class="token number">8080</span> -j ACCEPT
<span class="token function">service</span> iptables save
<span class="token function">service</span> iptables restart

<span class="token builtin class-name">echo</span> <span class="token string">&quot;运行 Tomcat&quot;</span>
<span class="token function">sh</span> /usr/program/tomcat8/bin/startup.sh <span class="token punctuation">;</span> <span class="token function">tail</span> -200f /usr/program/tomcat8/logs/catalina.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-tomcat-centos7" tabindex="-1"><a class="header-anchor" href="#install-tomcat-centos7" aria-hidden="true">#</a> install_tomcat_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载 Tomcat&quot;</span>

<span class="token builtin class-name">cd</span> /opt/setups
<span class="token function">wget</span> http://apache.fayea.com/tomcat/tomcat-8/v8.0.46/bin/apache-tomcat-8.0.46.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/apache-tomcat-8.0.46.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 下载失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 下载成功，开始解压 Tomcat&quot;</span>
<span class="token function">tar</span> -zxf apache-tomcat-8.0.46.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/apache-tomcat-8.0.46&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 解压包移到 /usr/local/ 目录下&quot;</span>
<span class="token function">mv</span> apache-tomcat-8.0.46/ /usr/local/
<span class="token function">mv</span> /usr/local/apache-tomcat-8.0.46/ /usr/local/tomcat8/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 8080 端口&quot;</span>
firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp --permanent
firewall-cmd --reload

<span class="token builtin class-name">echo</span> <span class="token string">&quot;运行 Tomcat&quot;</span>
<span class="token function">sh</span> /usr/local/tomcat8/bin/startup.sh <span class="token punctuation">;</span> <span class="token function">tail</span> -200f /usr/local/tomcat8/logs/catalina.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="install-tomcat-offline-centos7" tabindex="-1"><a class="header-anchor" href="#install-tomcat-offline-centos7" aria-hidden="true">#</a> install_tomcat_offline_centos7</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断常见的文件夹是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">mkdir</span> /opt/setups
<span class="token keyword">fi</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;判断 tomcat 压缩包是否存在&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;/opt/setups/apache-tomcat-8.0.46.tar.gz&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;JDK 压缩包不存在&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>


<span class="token builtin class-name">cd</span> /opt/setups

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始解压 Tomcat&quot;</span>

<span class="token function">tar</span> -zxf apache-tomcat-8.0.46.tar.gz

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;/opt/setups/apache-tomcat-8.0.46&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 解压失败，结束脚本&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Tomcat 解压包移到 /usr/local/ 目录下&quot;</span>
<span class="token function">mv</span> apache-tomcat-8.0.46/ /usr/local/
<span class="token function">mv</span> /usr/local/apache-tomcat-8.0.46/ /usr/local/tomcat8/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;防火墙放行 8080 端口&quot;</span>
firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp --permanent
firewall-cmd --reload

<span class="token builtin class-name">echo</span> <span class="token string">&quot;运行 Tomcat&quot;</span>
<span class="token function">sh</span> /usr/local/tomcat8/bin/startup.sh <span class="token punctuation">;</span> <span class="token function">tail</span> -200f /usr/local/tomcat8/logs/catalina.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mysql-backup" tabindex="-1"><a class="header-anchor" href="#mysql-backup" aria-hidden="true">#</a> mysql_backup</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>


<span class="token assign-left variable">backupDatetime</span><span class="token operator">=</span><span class="token variable">$1</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$backupDatetime</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[0;31m 请输入备份日期 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;备份日期 = <span class="token variable">$backupDatetime</span>&quot;</span>

/usr/bin/mysqldump -u root --password<span class="token operator">=</span><span class="token number">123456</span> 数据库名 <span class="token operator">&gt;</span> /opt/mydb-<span class="token string">&quot;<span class="token variable">$backupDatetime</span>&quot;</span>.sql



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="repo-install-centos6" tabindex="-1"><a class="header-anchor" href="#repo-install-centos6" aria-hidden="true">#</a> repo_install_centos6</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token comment"># 本文原内容来自：https://github.com/judasn/Linux-Tutorial/blob/master/CentOS-Extra-Packages.md</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;源设置开始&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;备份默认源设置&quot;</span>
<span class="token function">sudo</span> <span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
<span class="token builtin class-name">cd</span> /etc/yum.repos.d/

<span class="token builtin class-name">echo</span> <span class="token string">&quot;下载网易 centos6 源&quot;</span>
<span class="token function">sudo</span> <span class="token function">wget</span> http://mirrors.163.com/.help/CentOS6-Base-163.repo

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装网易 centos6 源&quot;</span>
<span class="token function">sudo</span> <span class="token function">mv</span> CentOS6-Base-163.repo CentOS-Base.repo
<span class="token function">rpm</span> --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6

<span class="token builtin class-name">echo</span> <span class="token string">&quot;清除缓存后更新程序&quot;</span>
<span class="token function">sudo</span> yum clean all
<span class="token function">sudo</span> yum makecache
<span class="token function">sudo</span> yum update -y

<span class="token builtin class-name">echo</span> <span class="token string">&quot;使用第三方源&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 EPEL 源&quot;</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> -y epel-release
<span class="token function">rpm</span> --import /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6

<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装 RepoForge 源&quot;</span>
<span class="token function">wget</span> http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm
<span class="token function">sudo</span> <span class="token function">rpm</span> -ivh rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm
<span class="token function">sudo</span> <span class="token function">rpm</span> --import /etc/pki/rpm-gpg/RPM-GPG-KEY-rpmforge-dag

<span class="token builtin class-name">echo</span> <span class="token string">&quot;清除缓存后更新程序&quot;</span>
<span class="token function">sudo</span> yum clean all
<span class="token function">sudo</span> yum makecache
<span class="token function">sudo</span> yum update -y

<span class="token builtin class-name">echo</span> <span class="token string">&quot;测试安装 htop&quot;</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> -y <span class="token function">htop</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;完成源设置&quot;</span>









</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="shell-for" tabindex="-1"><a class="header-anchor" href="#shell-for" aria-hidden="true">#</a> shell-for</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 循环总次数</span>
<span class="token assign-left variable">totalDegree</span><span class="token operator">=</span><span class="token variable">$1</span>

<span class="token comment"># 如果没有传参，则默认值是 10</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$totalDegree</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
    <span class="token assign-left variable">totalDegree</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token keyword">fi</span>

<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>timeTemp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> timeTemp <span class="token operator">&lt;=</span> $totalDegree<span class="token punctuation">;</span> timeTemp <span class="token operator">=</span> timeTemp <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;timeTemp=<span class="token variable">$timeTemp</span>&quot;</span>
<span class="token keyword">done</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="shell-with-param-demo" tabindex="-1"><a class="header-anchor" href="#shell-with-param-demo" aria-hidden="true">#</a> shell-with-param-demo</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>


<span class="token assign-left variable">methodParam</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token assign-left variable">SpringBoot</span><span class="token operator">=</span><span class="token variable">$2</span>
<span class="token assign-left variable">SpringBootPath</span><span class="token operator">=</span><span class="token variable">$3</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$methodParam</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[0;31m 未输入操作名 <span class="token entity" title="\033">\033</span>[0m  <span class="token entity" title="\033">\033</span>[0;34m {start|stop|restart|status} <span class="token entity" title="\033">\033</span>[0m&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$SpringBoot</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[0;31m 未输入应用名 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$SpringBootPath</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[0;31m 未输入应用路径 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;操作名 = <span class="token variable">$methodParam</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;应用名 = <span class="token variable">$2</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;应用路径 = <span class="token variable">$3</span>&quot;</span>

<span class="token keyword">function</span> <span class="token function-name function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> java<span class="token operator">|</span><span class="token function">grep</span> $SpringBoot<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span><span class="token operator">|</span><span class="token function">wc</span> -l<span class="token variable">`</span></span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$count</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$SpringBoot</span> is running...&quot;</span>
    <span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;Start <span class="token variable">$SpringBoot</span> success...&quot;</span>
        <span class="token builtin class-name">cd</span> <span class="token variable">$SpringBootPath</span>
        <span class="token assign-left variable">BUILD_ID</span><span class="token operator">=</span>dontKillMe <span class="token function">nohup</span> java -jar <span class="token variable">$SpringBoot</span> <span class="token operator">&gt;</span> /opt/run-log.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
    <span class="token keyword">fi</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-name function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Stop <span class="token variable">$SpringBoot</span>&quot;</span>
    <span class="token assign-left variable">boot_id</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> java<span class="token operator">|</span><span class="token function">grep</span> $SpringBoot<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">`</span></span>
    <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> java<span class="token operator">|</span><span class="token function">grep</span> $SpringBoot<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span><span class="token operator">|</span><span class="token function">wc</span> -l<span class="token variable">`</span></span>

    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$count</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token function">kill</span> <span class="token variable">$boot_id</span>
        <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> java<span class="token operator">|</span><span class="token function">grep</span> $SpringBoot<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span><span class="token operator">|</span><span class="token function">wc</span> -l<span class="token variable">`</span></span>

        <span class="token assign-left variable">boot_id</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> java<span class="token operator">|</span><span class="token function">grep</span> $SpringBoot<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">`</span></span>
        <span class="token function">kill</span> -9 <span class="token variable">$boot_id</span>
    <span class="token keyword">fi</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-name function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    stop
    <span class="token function">sleep</span> <span class="token number">2</span>
    start
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-name function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> java<span class="token operator">|</span><span class="token function">grep</span> $SpringBoot<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span><span class="token operator">|</span><span class="token function">wc</span> -l<span class="token variable">`</span></span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$count</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$SpringBoot</span> is running...&quot;</span>
    <span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$SpringBoot</span> is not running...&quot;</span>
    <span class="token keyword">fi</span>
<span class="token punctuation">}</span>

<span class="token keyword">case</span> <span class="token variable">$methodParam</span> <span class="token keyword">in</span>
    start<span class="token punctuation">)</span>
    start<span class="token punctuation">;</span><span class="token punctuation">;</span>
    stop<span class="token punctuation">)</span>
    stop<span class="token punctuation">;</span><span class="token punctuation">;</span>
    restart<span class="token punctuation">)</span>
    restart<span class="token punctuation">;</span><span class="token punctuation">;</span>
    status<span class="token punctuation">)</span>
    status<span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>

    <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[0;31m Usage: <span class="token entity" title="\033">\033</span>[0m  <span class="token entity" title="\033">\033</span>[0;34m sh  <span class="token variable">$0</span>  {start|stop|restart|status}  {SpringBootJarName} <span class="token entity" title="\033">\033</span>[0m<span class="token entity" title="\033">\033</span>[0;31m Example: <span class="token entity" title="\033">\033</span>[0m<span class="token entity" title="\033">\033</span>[0;33m sh  <span class="token variable">$0</span>  start esmart-test.jar <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token keyword">esac</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/yzqdev/cs-guide/edit/main/docs/linux-tutor/configs/common-shells.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/5/26 11:39:36</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: yzqdev@outlook.com">yzqdev</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/cs-guide/linux-tutor/configs/nginx.html" class="nav-link prev" aria-label="nginx配置"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->nginx配置</div></a><!----></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">powered by <a href='https://vuepress-theme-hope.github.io/v2/'>vuepress-theme-hope</a></div><div class="copyright">Copyright © 2022 yzqdev</div></footer><!--]--></div><!--]--><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="close icon"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></svg></button><div class="logo"><!----><div class="title"><h1></h1><p class="desc">该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!----><!----></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">安装<span></span></button><button class="cancel-button">取消</button></div></div></div></div><!----><!--]--></div>
    <script src="/cs-guide/assets/js/runtime~app.8e642581.js" defer></script><script src="/cs-guide/assets/js/96333.c2804327.js" defer></script><script src="/cs-guide/assets/js/app.6cfcd2ad.js" defer></script>
  </body>
</html>
